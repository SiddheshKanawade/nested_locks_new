/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 4 "car/carR.c"
typedef unsigned char U8;
#line 5 "car/carR.c"
typedef unsigned long U32;
#line 6 "car/carR.c"
typedef unsigned char byte;
#line 7 "car/carR.c"
typedef unsigned short TWOBYTES;
#line 11 "car/carR.c"
struct _freeBlock {
   TWOBYTES size : 15 ;
   TWOBYTES isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 15 "car/carR.c"
struct _objects {
   byte _class ;
   byte padding : 5 ;
   byte mark : 1 ;
   byte isArray : 1 ;
   byte isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 22 "car/carR.c"
struct _arrays {
   TWOBYTES length : 9 ;
   TWOBYTES type : 4 ;
   TWOBYTES mark : 1 ;
   TWOBYTES isArray : 1 ;
   TWOBYTES isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 29 "car/carR.c"
union _flags {
   TWOBYTES all ;
   struct _freeBlock freeBlock ;
   struct _objects objects ;
   struct _arrays arrays ;
} __attribute__((__packed__)) ;
#line 35 "car/carR.c"
struct S_Object {
   union _flags flags ;
   byte monitorCount ;
   byte threadId ;
} __attribute__((__packed__)) ;
#line 40 "car/carR.c"
typedef struct S_Object Object;
#line 42 "car/carR.c"
typedef unsigned long size_t;
#line 43 "car/carR.c"
struct __anonstruct_display_array_740464799 {
   Object hdr ;
   U8 displayN[9][100] ;
} __attribute__((__packed__)) ;
#line 47 "car/carR.c"
typedef unsigned char U8___0;
#line 48 "car/carR.c"
typedef signed char S8___0;
#line 50 "car/carR.c"
typedef unsigned long U32___0;
#line 52 "car/carR.c"
struct __anonstruct_to_avr_432250394 {
   U8___0 power ;
   U8___0 pwm_frequency ;
   S8___0 output_percent[4] ;
   U8___0 output_mode ;
   U8___0 input_power ;
} __attribute__((__packed__)) ;
#line 59 "car/carR.c"
typedef struct __anonstruct_to_avr_432250394 to_avr;
#line 74 "car/carR.c"
typedef unsigned long U32___1;
#line 76 "car/carR.c"
struct motor_struct {
   int current_count ;
   int target_count ;
   int speed_percent ;
   U32___1 last ;
};
#line 82 "car/carR.c"
typedef unsigned char UINT8;
#line 83 "car/carR.c"
typedef UINT8 StatusType;
#line 84 "car/carR.c"
typedef UINT8 ResourceType;
#line 85 "car/carR.c"
typedef unsigned char U8___1;
#line 89 "car/carR.c"
typedef unsigned long U32___2;
#line 90 "car/carR.c"
typedef long S32___0;
#line 91 "car/carR.c"
typedef char CHAR;
#line 93 "car/carR.c"
typedef int SINT;
#line 250 "car/carR.c"
struct sMotorResource_t {
   S32___0 sTurnDistance ;
   S32___0 sSonarDistance ;
   S32___0 sRightMotor ;
   S32___0 sLeftMotor ;
   S32___0 sCalibratedDistance ;
};
#line 264
extern void display_int(int val , U32 places ) ;
#line 271
int display_tick ;
#line 272
int display_auto_update ;
#line 276
extern void nxt_lcd_update(void) ;
#line 279
extern void systick_wait_ms(unsigned long ms ) ;
#line 289 "car/carR.c"
U8 const   *displayM  =    (U8 const   *)((U8 *)0);
#line 290 "car/carR.c"
unsigned char dirty  =    (U8 )0;
#line 291 "car/carR.c"
unsigned char page  =    (U8 )0;
#line 292 "car/carR.c"
U8 const   *dataM  =    (U8 const   *)((U8 *)0);
#line 293 "car/carR.c"
U8 mode  =    (U8 )255;
#line 309
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memset)(void *__s ,
                                                                                               int __c ,
                                                                                               unsigned long __n ) ;
#line 315 "car/carR.c"
static struct __anonstruct_display_array_740464799 display_array  ;
#line 316 "car/carR.c"
static U8 (*display_buffer)[100]  =    display_array.displayN;
#line 317 "car/carR.c"
static U8 const   font[128][5]  = 
#line 317
  { {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )85,        (U8 const   )97,        (U8 const   )85, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )107,        (U8 const   )95,        (U8 const   )107, 
            (U8 const   )62}, 
   {        (U8 const   )12,        (U8 const   )30,        (U8 const   )60,        (U8 const   )30, 
            (U8 const   )12}, 
   {        (U8 const   )8,        (U8 const   )28,        (U8 const   )62,        (U8 const   )28, 
            (U8 const   )8}, 
   {        (U8 const   )24,        (U8 const   )94,        (U8 const   )126,        (U8 const   )94, 
            (U8 const   )24}, 
   {        (U8 const   )24,        (U8 const   )92,        (U8 const   )126,        (U8 const   )92, 
            (U8 const   )24}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )0,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )95,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )7,        (U8 const   )0,        (U8 const   )7, 
            (U8 const   )0}, 
   {        (U8 const   )20,        (U8 const   )62,        (U8 const   )20,        (U8 const   )62, 
            (U8 const   )20}, 
   {        (U8 const   )4,        (U8 const   )42,        (U8 const   )127,        (U8 const   )42, 
            (U8 const   )16}, 
   {        (U8 const   )38,        (U8 const   )22,        (U8 const   )8,        (U8 const   )52, 
            (U8 const   )50}, 
   {        (U8 const   )54,        (U8 const   )73,        (U8 const   )89,        (U8 const   )38, 
            (U8 const   )80}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )7,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )28,        (U8 const   )34,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )34,        (U8 const   )28, 
            (U8 const   )0}, 
   {        (U8 const   )42,        (U8 const   )28,        (U8 const   )127,        (U8 const   )28, 
            (U8 const   )42}, 
   {        (U8 const   )8,        (U8 const   )8,        (U8 const   )62,        (U8 const   )8, 
            (U8 const   )8}, 
   {        (U8 const   )0,        (U8 const   )80,        (U8 const   )48,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )8,        (U8 const   )8,        (U8 const   )8,        (U8 const   )8, 
            (U8 const   )8}, 
   {        (U8 const   )0,        (U8 const   )96,        (U8 const   )96,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )16,        (U8 const   )8,        (U8 const   )4, 
            (U8 const   )2}, 
   {        (U8 const   )62,        (U8 const   )81,        (U8 const   )73,        (U8 const   )69, 
            (U8 const   )62}, 
   {        (U8 const   )0,        (U8 const   )66,        (U8 const   )127,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )66,        (U8 const   )97,        (U8 const   )81,        (U8 const   )73, 
            (U8 const   )70}, 
   {        (U8 const   )33,        (U8 const   )65,        (U8 const   )69,        (U8 const   )75, 
            (U8 const   )49}, 
   {        (U8 const   )24,        (U8 const   )20,        (U8 const   )18,        (U8 const   )127, 
            (U8 const   )16}, 
   {        (U8 const   )39,        (U8 const   )69,        (U8 const   )69,        (U8 const   )69, 
            (U8 const   )57}, 
   {        (U8 const   )60,        (U8 const   )74,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )48}, 
   {        (U8 const   )1,        (U8 const   )1,        (U8 const   )121,        (U8 const   )5, 
            (U8 const   )3}, 
   {        (U8 const   )54,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )54}, 
   {        (U8 const   )6,        (U8 const   )73,        (U8 const   )73,        (U8 const   )41, 
            (U8 const   )30}, 
   {        (U8 const   )0,        (U8 const   )54,        (U8 const   )54,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )86,        (U8 const   )54,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )8,        (U8 const   )20,        (U8 const   )34,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )20,        (U8 const   )20,        (U8 const   )20,        (U8 const   )20, 
            (U8 const   )20}, 
   {        (U8 const   )65,        (U8 const   )34,        (U8 const   )20,        (U8 const   )8, 
            (U8 const   )0}, 
   {        (U8 const   )2,        (U8 const   )1,        (U8 const   )89,        (U8 const   )5, 
            (U8 const   )2}, 
   {        (U8 const   )28,        (U8 const   )42,        (U8 const   )54,        (U8 const   )62, 
            (U8 const   )12}, 
   {        (U8 const   )126,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )126}, 
   {        (U8 const   )127,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )34}, 
   {        (U8 const   )127,        (U8 const   )65,        (U8 const   )65,        (U8 const   )34, 
            (U8 const   )28}, 
   {        (U8 const   )127,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )65}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )1}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )73, 
            (U8 const   )58}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )8,        (U8 const   )8, 
            (U8 const   )127}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )127,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )64,        (U8 const   )65,        (U8 const   )63, 
            (U8 const   )1}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )20,        (U8 const   )34, 
            (U8 const   )65}, 
   {        (U8 const   )127,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )64}, 
   {        (U8 const   )127,        (U8 const   )2,        (U8 const   )4,        (U8 const   )2, 
            (U8 const   )127}, 
   {        (U8 const   )127,        (U8 const   )4,        (U8 const   )8,        (U8 const   )16, 
            (U8 const   )127}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )62}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )6}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )81,        (U8 const   )33, 
            (U8 const   )94}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )25,        (U8 const   )41, 
            (U8 const   )70}, 
   {        (U8 const   )38,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )50}, 
   {        (U8 const   )1,        (U8 const   )1,        (U8 const   )127,        (U8 const   )1, 
            (U8 const   )1}, 
   {        (U8 const   )63,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )63}, 
   {        (U8 const   )31,        (U8 const   )32,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )31}, 
   {        (U8 const   )127,        (U8 const   )32,        (U8 const   )24,        (U8 const   )32, 
            (U8 const   )127}, 
   {        (U8 const   )99,        (U8 const   )20,        (U8 const   )8,        (U8 const   )20, 
            (U8 const   )99}, 
   {        (U8 const   )3,        (U8 const   )4,        (U8 const   )120,        (U8 const   )4, 
            (U8 const   )3}, 
   {        (U8 const   )97,        (U8 const   )81,        (U8 const   )73,        (U8 const   )69, 
            (U8 const   )67}, 
   {        (U8 const   )0,        (U8 const   )127,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )2,        (U8 const   )4,        (U8 const   )8,        (U8 const   )16, 
            (U8 const   )32}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )65,        (U8 const   )127, 
            (U8 const   )0}, 
   {        (U8 const   )4,        (U8 const   )2,        (U8 const   )1,        (U8 const   )2, 
            (U8 const   )4}, 
   {        (U8 const   )64,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )64}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )7,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )120}, 
   {        (U8 const   )127,        (U8 const   )72,        (U8 const   )68,        (U8 const   )68, 
            (U8 const   )56}, 
   {        (U8 const   )48,        (U8 const   )72,        (U8 const   )72,        (U8 const   )72, 
            (U8 const   )32}, 
   {        (U8 const   )56,        (U8 const   )68,        (U8 const   )68,        (U8 const   )72, 
            (U8 const   )127}, 
   {        (U8 const   )56,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )24}, 
   {        (U8 const   )8,        (U8 const   )126,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )2}, 
   {        (U8 const   )12,        (U8 const   )82,        (U8 const   )82,        (U8 const   )82, 
            (U8 const   )62}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )0,        (U8 const   )68,        (U8 const   )125,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )64,        (U8 const   )64,        (U8 const   )61, 
            (U8 const   )0}, 
   {        (U8 const   )127,        (U8 const   )16,        (U8 const   )40,        (U8 const   )68, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )127,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )124,        (U8 const   )4,        (U8 const   )24,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )124,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )56,        (U8 const   )68,        (U8 const   )68,        (U8 const   )68, 
            (U8 const   )56}, 
   {        (U8 const   )252,        (U8 const   )20,        (U8 const   )20,        (U8 const   )20, 
            (U8 const   )8}, 
   {        (U8 const   )8,        (U8 const   )20,        (U8 const   )20,        (U8 const   )24, 
            (U8 const   )124}, 
   {        (U8 const   )124,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )8}, 
   {        (U8 const   )72,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )32}, 
   {        (U8 const   )4,        (U8 const   )63,        (U8 const   )68,        (U8 const   )64, 
            (U8 const   )32}, 
   {        (U8 const   )60,        (U8 const   )64,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )124}, 
   {        (U8 const   )28,        (U8 const   )32,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )28}, 
   {        (U8 const   )60,        (U8 const   )64,        (U8 const   )56,        (U8 const   )64, 
            (U8 const   )60}, 
   {        (U8 const   )68,        (U8 const   )40,        (U8 const   )16,        (U8 const   )40, 
            (U8 const   )68}, 
   {        (U8 const   )12,        (U8 const   )80,        (U8 const   )80,        (U8 const   )80, 
            (U8 const   )60}, 
   {        (U8 const   )68,        (U8 const   )100,        (U8 const   )84,        (U8 const   )76, 
            (U8 const   )68}, 
   {        (U8 const   )0,        (U8 const   )8,        (U8 const   )54,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )127,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )54,        (U8 const   )8, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )7,        (U8 const   )0,        (U8 const   )7, 
            (U8 const   )0}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}};
#line 574 "car/carR.c"
int display_tick  =    0;
#line 575 "car/carR.c"
int display_auto_update  =    1;
#line 576 "car/carR.c"
int display_x  ;
#line 577 "car/carR.c"
int display_y  ;
#line 582 "car/carR.c"
char const   avr_brainwash_string[48]  = 
#line 582
  {      (char const   )'\314',      (char const   )'L',      (char const   )'e',      (char const   )'t', 
        (char const   )'\'',      (char const   )'s',      (char const   )' ',      (char const   )'s', 
        (char const   )'a',      (char const   )'m',      (char const   )'b',      (char const   )'a', 
        (char const   )' ',      (char const   )'n',      (char const   )'x',      (char const   )'t', 
        (char const   )' ',      (char const   )'a',      (char const   )'r',      (char const   )'m', 
        (char const   )' ',      (char const   )'i',      (char const   )'n',      (char const   )' ', 
        (char const   )'a',      (char const   )'r',      (char const   )'m',      (char const   )',', 
        (char const   )' ',      (char const   )'(',      (char const   )'c',      (char const   )')', 
        (char const   )'L',      (char const   )'E',      (char const   )'G',      (char const   )'O', 
        (char const   )' ',      (char const   )'S',      (char const   )'y',      (char const   )'s', 
        (char const   )'t',      (char const   )'e',      (char const   )'m',      (char const   )' ', 
        (char const   )'A',      (char const   )'/',      (char const   )'S',      (char const   )'\000'};
#line 595 "car/carR.c"
static to_avr io_to_avr  ;
#line 607 "car/carR.c"
static struct motor_struct motor[3]  ;
#line 611
extern  __attribute__((__nothrow__)) int ( __attribute__((__leaf__)) rand)(void) ;
#line 612
extern StatusType TerminateTask(void) ;
#line 613
extern StatusType GetResource(ResourceType resid ) ;
#line 614
extern StatusType ReleaseResource(ResourceType resid ) ;
#line 631
extern void ecrobot_init_bt_slave(CHAR const   *pin ) ;
#line 632
extern SINT ecrobot_get_bt_status(void) ;
#line 633
extern U32___2 ecrobot_send_bt_packet(U8___1 *buf , U32___2 bufLen ) ;
#line 634
extern U32___2 ecrobot_read_bt_packet(U8___1 *buf , U32___2 bufLen ) ;
#line 651
extern S32___0 ecrobot_get_sonar_sensor(U8___1 port_id ) ;
#line 690 "car/carR.c"
U8___1 const   NXT_COLORSENSOR_PROTOCOLS[7]  = {      (U8___1 const   )176,      (U8___1 const   )112,      (U8___1 const   )240,      (U8___1 const   )8, 
        (U8___1 const   )176,      (U8___1 const   )136,      (U8___1 const   )136};
#line 700
extern ResourceType SonarSensor ;
#line 701 "car/carR.c"
int generate_random_number(void) 
{ 
  int iRandom ;
  int tmp ;

  {
#line 707
  tmp = rand();
#line 708
  iRandom = tmp % 10;
#line 709
  return (iRandom);
}
}
#line 712 "car/carR.c"
int iSonarDistance  =    0;
#line 713 "car/carR.c"
struct sMotorResource_t sMotorResource  ;
#line 714 "car/carR.c"
static U8___1 bt_receive_buf[32]  ;
#line 715 "car/carR.c"
void TaskMainBluetooth_Receive(void) 
{ 
  int iRandom ;
  int iRandom2 ;
  int tmp3 ;
  int ret_generate_random_number4 ;
  char const   *str5 ;
  char const   *str6 ;
  int c7 ;
  int i8 ;
  U8 *b9 ;
  U8 const   *f10 ;
  int c11 ;
  int i12 ;
  U8 *b13 ;
  U8 const   *f14 ;
  U32 updateToo15 ;
  U32 updateToo16 ;
  int x17 ;
  int y18 ;
  int x19 ;
  int y20 ;
  int x21 ;
  int y22 ;
  int x23 ;
  int y24 ;

  {
#line 743
  GetResource(SonarSensor);
#line 744
  updateToo15 = (U32___2 )0;
#line 745
  memset((void *)display_buffer, 0, (size_t )800);
#line 746
  if (updateToo15) {
#line 747
    display_tick = 0;
#line 748
    nxt_lcd_update();
#line 749
    goto Lret_display_update___3;
    Lret_display_update___3: ;
  }
#line 752
  goto Lret_display_clear;
  Lret_display_clear: 
#line 755
  x17 = 0;
#line 756
  y18 = 1;
#line 758
  display_x = x17;
#line 759
  display_y = y18;
#line 760
  goto Lret_display_goto_xy;
  Lret_display_goto_xy: 
#line 763
  str5 = "BT_receive";
#line 765
  while (*str5) {
#line 766
    if ((int const   )*str5 != 10) {
#line 767
      c7 = (int )*str5;
#line 768
      if (c7 >= 0) {
#line 769
        if (c7 < 128) {
#line 770
          if (display_x >= 0) {
#line 771
            if (display_x < 16) {
#line 772
              if (display_y >= 0) {
#line 773
                if (display_y < 8) {
#line 774
                  b9 = & (*(display_buffer + display_y))[display_x * 6];
#line 775
                  f10 = font[c7];
#line 776
                  i8 = 0;
#line 777
                  while (i8 < 5) {
#line 778
                    *b9 = (U8 )*f10;
#line 779
                    b9 ++;
#line 780
                    f10 ++;
#line 781
                    i8 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 789
      goto Lret_display_char;
      Lret_display_char: 
#line 791
      display_x ++;
    } else {
#line 793
      display_x = 0;
#line 794
      display_y ++;
    }
#line 796
    str5 ++;
  }
#line 798
  goto Lret_display_string;
  Lret_display_string: 
#line 800
  display_tick = 0;
#line 801
  nxt_lcd_update();
#line 802
  goto Lret_display_update;
  Lret_display_update: 
#line 804
  tmp3 = rand();
#line 805
  iRandom2 = tmp3 % 10;
#line 806
  ret_generate_random_number4 = iRandom2;
#line 807
  goto Lret_generate_random_number;
  Lret_generate_random_number: 
#line 809
  iRandom = ret_generate_random_number4;
#line 810
  if (iRandom % 2 == 0) {
#line 811
    ecrobot_read_bt_packet(bt_receive_buf, (U32___2 )32);
#line 812
    if ((int )bt_receive_buf[0] == 1) {
#line 813
      updateToo16 = (U32___2 )0;
#line 814
      memset((void *)display_buffer, 0, (size_t )800);
#line 815
      if (updateToo16) {
#line 816
        display_tick = 0;
#line 817
        nxt_lcd_update();
#line 818
        goto Lret_display_update___4;
        Lret_display_update___4: ;
      }
#line 821
      goto Lret_display_clear___0;
      Lret_display_clear___0: 
#line 824
      x19 = 0;
#line 825
      y20 = 1;
#line 827
      display_x = x19;
#line 828
      display_y = y20;
#line 829
      goto Lret_display_goto_xy___0;
      Lret_display_goto_xy___0: 
#line 832
      str6 = "msg received";
#line 834
      while (*str6) {
#line 835
        if ((int const   )*str6 != 10) {
#line 836
          c11 = (int )*str6;
#line 837
          if (c11 >= 0) {
#line 838
            if (c11 < 128) {
#line 839
              if (display_x >= 0) {
#line 840
                if (display_x < 16) {
#line 841
                  if (display_y >= 0) {
#line 842
                    if (display_y < 8) {
#line 843
                      b13 = & (*(display_buffer + display_y))[display_x * 6];
#line 844
                      f14 = font[c11];
#line 845
                      i12 = 0;
#line 846
                      while (i12 < 5) {
#line 847
                        *b13 = (U8 )*f14;
#line 848
                        b13 ++;
#line 849
                        f14 ++;
#line 850
                        i12 ++;
                      }
                    }
                  }
                }
              }
            }
          }
#line 858
          goto Lret_display_char___0;
          Lret_display_char___0: 
#line 860
          display_x ++;
        } else {
#line 862
          display_x = 0;
#line 863
          display_y ++;
        }
#line 865
        str6 ++;
      }
#line 867
      goto Lret_display_string___0;
      Lret_display_string___0: 
#line 869
      display_tick = 0;
#line 870
      nxt_lcd_update();
#line 871
      goto Lret_display_update___0;
      Lret_display_update___0: 
#line 873
      sMotorResource.sSonarDistance = ecrobot_get_sonar_sensor((U8___1 )1);
#line 874
      if (sMotorResource.sTurnDistance == 0L) {
#line 875
        sMotorResource.sTurnDistance = ecrobot_get_sonar_sensor((U8___1 )1);
      }
#line 877
      if ((int )bt_receive_buf[1] != 50) {
#line 879
        sMotorResource.sLeftMotor = (S32___0 )bt_receive_buf[1];
#line 880
        x21 = 0;
#line 881
        y22 = 2;
#line 883
        display_x = x21;
#line 884
        display_y = y22;
#line 885
        goto Lret_display_goto_xy___1;
        Lret_display_goto_xy___1: 
#line 888
        display_int((int )bt_receive_buf[1], (U32___2 )50);
#line 889
        display_tick = 0;
#line 890
        nxt_lcd_update();
#line 892
        goto Lret_display_update___1;
        Lret_display_update___1: ;
      }
#line 895
      if ((int )bt_receive_buf[2] != 50) {
#line 897
        sMotorResource.sRightMotor = (S32___0 )bt_receive_buf[2];
#line 898
        x23 = 0;
#line 899
        y24 = 3;
#line 901
        display_x = x23;
#line 902
        display_y = y24;
#line 903
        goto Lret_display_goto_xy___2;
        Lret_display_goto_xy___2: 
#line 906
        display_int((int )bt_receive_buf[2], (U32___2 )50);
#line 907
        display_tick = 0;
#line 908
        nxt_lcd_update();
#line 910
        goto Lret_display_update___2;
        Lret_display_update___2: ;
      }
    }
  }
#line 915
  ReleaseResource(SonarSensor);
#line 916
  TerminateTask();
#line 917
  return;
}
}
#line 920 "car/carR.c"
void TaskMainGetCurrentSonarSensor(void) 
{ 
  int iRandom ;
  int tmp ;
  int iRandom3 ;
  int tmp4 ;
  int ret_generate_random_number5 ;
  char const   *str6 ;
  int c7 ;
  int i8 ;
  U8 *b9 ;
  U8 const   *f10 ;
  int x11 ;
  int y12 ;

  {
#line 936
  tmp4 = rand();
#line 937
  iRandom3 = tmp4 % 10;
#line 938
  ret_generate_random_number5 = iRandom3;
#line 939
  goto Lret_generate_random_number;
  Lret_generate_random_number: 
#line 942
  tmp = ret_generate_random_number5;
#line 943
  iRandom = tmp;
#line 944
  x11 = 0;
#line 945
  y12 = 3;
#line 947
  display_x = x11;
#line 948
  display_y = y12;
#line 949
  goto Lret_display_goto_xy;
  Lret_display_goto_xy: 
#line 952
  str6 = "Sonar";
#line 954
  while (*str6) {
#line 955
    if ((int const   )*str6 != 10) {
#line 956
      c7 = (int )*str6;
#line 957
      if (c7 >= 0) {
#line 958
        if (c7 < 128) {
#line 959
          if (display_x >= 0) {
#line 960
            if (display_x < 16) {
#line 961
              if (display_y >= 0) {
#line 962
                if (display_y < 8) {
#line 963
                  b9 = & (*(display_buffer + display_y))[display_x * 6];
#line 964
                  f10 = font[c7];
#line 965
                  i8 = 0;
#line 966
                  while (i8 < 5) {
#line 967
                    *b9 = (U8 )*f10;
#line 968
                    b9 ++;
#line 969
                    f10 ++;
#line 970
                    i8 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 978
      goto Lret_display_char;
      Lret_display_char: 
#line 980
      display_x ++;
    } else {
#line 982
      display_x = 0;
#line 983
      display_y ++;
    }
#line 985
    str6 ++;
  }
#line 987
  goto Lret_display_string;
  Lret_display_string: 
#line 989
  display_tick = 0;
#line 990
  nxt_lcd_update();
#line 991
  goto Lret_display_update;
  Lret_display_update: 
#line 993
  GetResource(SonarSensor);
#line 994
  if (iRandom % 2 == 0) {
#line 995
    sMotorResource.sSonarDistance = ecrobot_get_sonar_sensor((U8___1 )1);
  }
#line 997
  ReleaseResource(SonarSensor);
#line 998
  TerminateTask();
#line 999
  return;
}
}
#line 1002 "car/carR.c"
void TaskMainMotorControlTask(void) 
{ 
  S32___0 sLeftMotor ;
  S32___0 sRightMotor ;
  U8___1 bt_send_buf[32] ;
  int iRandom ;
  int iRandom5 ;
  int tmp6 ;
  int ret_generate_random_number7 ;
  U32___1 n8 ;
  int speed_percent9 ;
  int brake10 ;
  U32___1 n11 ;
  int speed_percent12 ;
  int brake13 ;
  U32___0 n14 ;
  int power_percent15 ;
  int brake16 ;
  U32___0 n17 ;
  int power_percent18 ;
  int brake19 ;
  int x20 ;
  int y21 ;
  int x22 ;
  int y23 ;
  int x24 ;
  int y25 ;

  {
#line 1032
  GetResource(SonarSensor);
#line 1033
  iRandom = 0;
#line 1034
  bt_send_buf[0] = (U8___1 )1;
#line 1035
  x20 = 0;
#line 1036
  y21 = 1;
#line 1038
  display_x = x20;
#line 1039
  display_y = y21;
#line 1040
  goto Lret_display_goto_xy;
  Lret_display_goto_xy: 
#line 1043
  display_int((int )sMotorResource.sSonarDistance, (U32___2 )0);
#line 1044
  x22 = 0;
#line 1045
  y23 = 2;
#line 1047
  display_x = x22;
#line 1048
  display_y = y23;
#line 1049
  goto Lret_display_goto_xy___0;
  Lret_display_goto_xy___0: 
#line 1052
  display_int((int )sMotorResource.sTurnDistance, (U32___2 )0);
#line 1053
  display_tick = 0;
#line 1054
  nxt_lcd_update();
#line 1056
  goto Lret_display_update;
  Lret_display_update: 
#line 1058
  tmp6 = rand();
#line 1059
  iRandom5 = tmp6 % 10;
#line 1060
  ret_generate_random_number7 = iRandom5;
#line 1061
  goto Lret_generate_random_number;
  Lret_generate_random_number: 
#line 1064
  iRandom = ret_generate_random_number7;
#line 1065
  x24 = 0;
#line 1066
  y25 = 4;
#line 1068
  display_x = x24;
#line 1069
  display_y = y25;
#line 1070
  goto Lret_display_goto_xy___1;
  Lret_display_goto_xy___1: 
#line 1073
  display_int(iRandom, (U32___2 )50);
#line 1074
  display_tick = 0;
#line 1075
  nxt_lcd_update();
#line 1077
  goto Lret_display_update___0;
  Lret_display_update___0: ;
#line 1079
  if (iRandom % 2 == 0) {
#line 1080
    if (sMotorResource.sSonarDistance <= 225L) {
#line 1081
      sLeftMotor = (S32___0 )0;
#line 1082
      sRightMotor = (S32___0 )0;
    } else
#line 1084
    if (sMotorResource.sTurnDistance - sMotorResource.sSonarDistance == 0L) {
#line 1085
      sLeftMotor = (S32___0 )0;
#line 1086
      sRightMotor = (S32___0 )0;
    } else
#line 1088
    if (sMotorResource.sSonarDistance >= 255L) {
#line 1089
      bt_send_buf[0] = (U8___1 )0;
#line 1090
      ecrobot_send_bt_packet(bt_send_buf, (U32___2 )32);
#line 1091
      sLeftMotor = sMotorResource.sLeftMotor;
#line 1092
      sRightMotor = sMotorResource.sRightMotor;
    } else {
#line 1094
      sLeftMotor = sMotorResource.sLeftMotor;
#line 1095
      sRightMotor = sMotorResource.sRightMotor;
    }
  }
#line 1098
  n8 = (U32___2 )0;
#line 1099
  speed_percent9 = (int )sLeftMotor;
#line 1100
  brake10 = 1;
#line 1101
  if (n8 < 3UL) {
#line 1102
    if (speed_percent9 > 100) {
#line 1103
      speed_percent9 = 100;
    }
#line 1105
    if (speed_percent9 < -100) {
#line 1106
      speed_percent9 = -100;
    }
#line 1108
    motor[n8].speed_percent = speed_percent9;
#line 1109
    n14 = n8;
#line 1110
    power_percent15 = speed_percent9;
#line 1111
    brake16 = brake10;
#line 1112
    if (n14 < 3UL) {
#line 1113
      io_to_avr.output_percent[n14] = (S8___0 )power_percent15;
#line 1114
      if (brake16) {
#line 1115
        io_to_avr.output_mode = (U8___0 )((int )io_to_avr.output_mode | (1 << n14));
      } else {
#line 1117
        io_to_avr.output_mode = (U8___0 )((int )io_to_avr.output_mode & ~ (1 << n14));
      }
    }
#line 1120
    goto Lret_nxt_avr_set_motor;
    Lret_nxt_avr_set_motor: ;
  }
#line 1123
  goto Lret_nxt_motor_set_speed;
  Lret_nxt_motor_set_speed: 
#line 1125
  n11 = (U32___2 )1;
#line 1126
  speed_percent12 = (int )sRightMotor;
#line 1127
  brake13 = 1;
#line 1128
  if (n11 < 3UL) {
#line 1129
    if (speed_percent12 > 100) {
#line 1130
      speed_percent12 = 100;
    }
#line 1132
    if (speed_percent12 < -100) {
#line 1133
      speed_percent12 = -100;
    }
#line 1135
    motor[n11].speed_percent = speed_percent12;
#line 1136
    n17 = n11;
#line 1137
    power_percent18 = speed_percent12;
#line 1138
    brake19 = brake13;
#line 1139
    if (n17 < 3UL) {
#line 1140
      io_to_avr.output_percent[n17] = (S8___0 )power_percent18;
#line 1141
      if (brake19) {
#line 1142
        io_to_avr.output_mode = (U8___0 )((int )io_to_avr.output_mode | (1 << n17));
      } else {
#line 1144
        io_to_avr.output_mode = (U8___0 )((int )io_to_avr.output_mode & ~ (1 << n17));
      }
    }
#line 1147
    goto Lret_nxt_avr_set_motor___0;
    Lret_nxt_avr_set_motor___0: ;
  }
#line 1150
  goto Lret_nxt_motor_set_speed___0;
  Lret_nxt_motor_set_speed___0: 
#line 1152
  systick_wait_ms((U32___2 )100);
#line 1153
  ReleaseResource(SonarSensor);
#line 1154
  TerminateTask();
#line 1155
  return;
}
}
#line 1158
void TaskMainIdleTask(void) ;
#line 1159 "car/carR.c"
static SINT bt_status  =    4;
#line 1160 "car/carR.c"
void TaskMainIdleTask(void) 
{ 
  SINT tmp ;
  SINT tmp___0 ;
  char const   *str3 ;
  char const   *str4 ;
  int c5 ;
  int i6 ;
  U8 *b7 ;
  U8 const   *f8 ;
  int c9 ;
  int i10 ;
  U8 *b11 ;
  U8 const   *f12 ;
  U32 updateToo13 ;
  U32 updateToo14 ;
  int x15 ;
  int y16 ;
  int x17 ;
  int y18 ;

  {
#line 1182
  while (1) {
#line 1183
    ecrobot_init_bt_slave("1234");
#line 1184
    tmp = ecrobot_get_bt_status();
#line 1185
    if (tmp == 4) {
#line 1186
      updateToo13 = (U32___2 )0;
#line 1187
      memset((void *)display_buffer, 0, (size_t )800);
#line 1188
      if (updateToo13) {
#line 1189
        display_tick = 0;
#line 1190
        nxt_lcd_update();
#line 1191
        goto Lret_display_update___1;
        Lret_display_update___1: ;
      }
#line 1194
      goto Lret_display_clear;
      Lret_display_clear: 
#line 1197
      x15 = 0;
#line 1198
      y16 = 0;
#line 1200
      display_x = x15;
#line 1201
      display_y = y16;
#line 1202
      goto Lret_display_goto_xy;
      Lret_display_goto_xy: 
#line 1205
      str3 = "Not initialized";
#line 1207
      while (*str3) {
#line 1208
        if ((int const   )*str3 != 10) {
#line 1209
          c5 = (int )*str3;
#line 1210
          if (c5 >= 0) {
#line 1211
            if (c5 < 128) {
#line 1212
              if (display_x >= 0) {
#line 1213
                if (display_x < 16) {
#line 1214
                  if (display_y >= 0) {
#line 1215
                    if (display_y < 8) {
#line 1216
                      b7 = & (*(display_buffer + display_y))[display_x * 6];
#line 1217
                      f8 = font[c5];
#line 1218
                      i6 = 0;
#line 1219
                      while (i6 < 5) {
#line 1220
                        *b7 = (U8 )*f8;
#line 1221
                        b7 ++;
#line 1222
                        f8 ++;
#line 1223
                        i6 ++;
                      }
                    }
                  }
                }
              }
            }
          }
#line 1231
          goto Lret_display_char;
          Lret_display_char: 
#line 1233
          display_x ++;
        } else {
#line 1235
          display_x = 0;
#line 1236
          display_y ++;
        }
#line 1238
        str3 ++;
      }
#line 1240
      goto Lret_display_string;
      Lret_display_string: 
#line 1242
      display_tick = 0;
#line 1243
      nxt_lcd_update();
#line 1244
      goto Lret_display_update;
      Lret_display_update: ;
    }
#line 1247
    tmp___0 = ecrobot_get_bt_status();
#line 1248
    if (tmp___0 == 7) {
#line 1249
      if (bt_status != 7) {
#line 1250
        updateToo14 = (U32___2 )0;
#line 1251
        memset((void *)display_buffer, 0, (size_t )800);
#line 1252
        if (updateToo14) {
#line 1253
          display_tick = 0;
#line 1254
          nxt_lcd_update();
#line 1255
          goto Lret_display_update___2;
          Lret_display_update___2: ;
        }
#line 1258
        goto Lret_display_clear___0;
        Lret_display_clear___0: 
#line 1261
        x17 = 0;
#line 1262
        y18 = 0;
#line 1264
        display_x = x17;
#line 1265
        display_y = y18;
#line 1266
        goto Lret_display_goto_xy___0;
        Lret_display_goto_xy___0: 
#line 1269
        str4 = "[BT]";
#line 1271
        while (*str4) {
#line 1272
          if ((int const   )*str4 != 10) {
#line 1273
            c9 = (int )*str4;
#line 1274
            if (c9 >= 0) {
#line 1275
              if (c9 < 128) {
#line 1276
                if (display_x >= 0) {
#line 1277
                  if (display_x < 16) {
#line 1278
                    if (display_y >= 0) {
#line 1279
                      if (display_y < 8) {
#line 1280
                        b11 = & (*(display_buffer + display_y))[display_x * 6];
#line 1281
                        f12 = font[c9];
#line 1282
                        i10 = 0;
#line 1283
                        while (i10 < 5) {
#line 1284
                          *b11 = (U8 )*f12;
#line 1285
                          b11 ++;
#line 1286
                          f12 ++;
#line 1287
                          i10 ++;
                        }
                      }
                    }
                  }
                }
              }
            }
#line 1295
            goto Lret_display_char___0;
            Lret_display_char___0: 
#line 1297
            display_x ++;
          } else {
#line 1299
            display_x = 0;
#line 1300
            display_y ++;
          }
#line 1302
          str4 ++;
        }
#line 1304
        goto Lret_display_string___0;
        Lret_display_string___0: 
#line 1306
        display_tick = 0;
#line 1307
        nxt_lcd_update();
#line 1308
        goto Lret_display_update___0;
        Lret_display_update___0: ;
      }
    }
#line 1312
    bt_status = ecrobot_get_bt_status();
  }
}
}
#line 1316
extern int create_task() ;
#line 1325
extern int ( /* missing proto */  create_block)() ;
#line 1317 "car/carR.c"
void main(void) 
{ 


  {
#line 1320
  create_task("TaskMainIdleTask", "TaskMainIdleTask", 1, 25, 1.965);
#line 1321
  create_task("TaskMainMotorControlTask", "TaskMainMotorControlTask", 3, 50, 2.108);
#line 1322
  create_task("TaskMainBluetooth_Receive", "TaskMainBluetooth_Receive", 2, 35, 0.372);
#line 1323
  create_task("TaskMainGetCurrentSonarSensor", "TaskMainGetCurrentSonarSensor", 4,
              26, 0.107);
#line 1325
  create_block(1032, "TaskMainMotorControlTask", "SonarSensor", 1, 3, 0.378);
#line 1326
  create_block(743, "TaskMainBluetooth_Receive", "SonarSensor", 1, 2, 0.108);
#line 1327
  create_block(993, "TaskMainGetCurrentSonarSensor", "SonarSensor", 1, 4, 0.009);
#line 1328
  return;
}
}
