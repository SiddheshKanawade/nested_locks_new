/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 4 "follower/follower.c"
typedef unsigned char U8;
#line 5 "follower/follower.c"
typedef unsigned long U32;
#line 6 "follower/follower.c"
typedef unsigned char byte;
#line 7 "follower/follower.c"
typedef unsigned short TWOBYTES;
#line 11 "follower/follower.c"
struct _freeBlock {
   TWOBYTES size : 15 ;
   TWOBYTES isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 17 "follower/follower.c"
struct _objects {
   byte _class ;
   byte padding : 5 ;
   byte mark : 1 ;
   byte isArray : 1 ;
   byte isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 26 "follower/follower.c"
struct _arrays {
   TWOBYTES length : 9 ;
   TWOBYTES type : 4 ;
   TWOBYTES mark : 1 ;
   TWOBYTES isArray : 1 ;
   TWOBYTES isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 35 "follower/follower.c"
union _flags {
   TWOBYTES all ;
   struct _freeBlock freeBlock ;
   struct _objects objects ;
   struct _arrays arrays ;
} __attribute__((__packed__)) ;
#line 43 "follower/follower.c"
struct S_Object {
   union _flags flags ;
   byte monitorCount ;
   byte threadId ;
} __attribute__((__packed__)) ;
#line 50 "follower/follower.c"
typedef struct S_Object Object;
#line 52 "follower/follower.c"
struct __anonstruct_display_array_740464799 {
   Object hdr ;
   U8 displayN[9][100] ;
} __attribute__((__packed__)) ;
#line 58 "follower/follower.c"
typedef unsigned char U8___0;
#line 59 "follower/follower.c"
typedef unsigned short U16___0;
#line 60 "follower/follower.c"
typedef unsigned long U32___0;
#line 63 "follower/follower.c"
struct i2c_partial_transaction {
   U8___0 start : 1 ;
   U8___0 restart : 1 ;
   U8___0 stop : 1 ;
   U8___0 tx : 1 ;
   U8___0 last_pt : 1 ;
   U16___0 nbytes ;
   U8___0 *data ;
};
#line 74
enum __anonenum_i2c_port_state_506411302 {
    I2C_UNINITIALISED = 0,
    I2C_IDLE = 1,
    I2C_BEGIN = 2,
    I2C_RESTART1 = 3,
    I2C_START1 = 4,
    I2C_START2 = 5,
    I2C_START3 = 6,
    I2C_START_RECLOCK1 = 7,
    I2C_LOW0 = 8,
    I2C_LOW1 = 9,
    I2C_HIGH0 = 10,
    I2C_HIGH1 = 11,
    I2C_STOP0 = 12,
    I2C_STOP1 = 13,
    I2C_STOP2 = 14,
    I2C_STOP3 = 15
} ;
#line 94 "follower/follower.c"
typedef enum __anonenum_i2c_port_state_506411302 i2c_port_state;
#line 95 "follower/follower.c"
struct i2c_port_struct {
   U32___0 scl_pin ;
   U32___0 sda_pin ;
   U8___0 addr_int[2] ;
   U8___0 addr ;
   struct i2c_partial_transaction partial_transaction[3] ;
   struct i2c_partial_transaction *current_pt ;
   i2c_port_state state ;
   U32___0 nbits ;
   U32___0 ack_slot ;
   U32___0 ack_slot_pending ;
   U8___0 *data ;
   U32___0 transmitting ;
   U32___0 fault ;
   U32___0 n_fault ;
   U32___0 n_good ;
   U32___0 ack_fail ;
   U32___0 ack_good ;
   U32___0 pt_num ;
   U32___0 pt_begun ;
};
#line 118 "follower/follower.c"
typedef unsigned char U8___1;
#line 119 "follower/follower.c"
typedef signed char S8___0;
#line 120 "follower/follower.c"
typedef unsigned long U32___1;
#line 121 "follower/follower.c"
struct __anonstruct_to_avr_432250394 {
   U8___1 power ;
   U8___1 pwm_frequency ;
   S8___0 output_percent[4] ;
   U8___1 output_mode ;
   U8___1 input_power ;
} __attribute__((__packed__)) ;
#line 130 "follower/follower.c"
typedef struct __anonstruct_to_avr_432250394 to_avr;
#line 131 "follower/follower.c"
typedef unsigned long U32___2;
#line 132 "follower/follower.c"
struct motor_struct {
   int current_count ;
   int target_count ;
   int speed_percent ;
   U32___2 last ;
};
#line 140 "follower/follower.c"
typedef unsigned char U8___2;
#line 141 "follower/follower.c"
typedef unsigned long U32___3;
#line 142 "follower/follower.c"
typedef long S32___0;
#line 143 "follower/follower.c"
typedef unsigned char UINT8;
#line 144 "follower/follower.c"
typedef unsigned long UINT32;
#line 145 "follower/follower.c"
typedef UINT8 StatusType;
#line 146 "follower/follower.c"
typedef UINT8 TaskType;
#line 147 "follower/follower.c"
typedef UINT8 ResourceType;
#line 148 "follower/follower.c"
typedef UINT32 EventMaskType;
#line 149 "follower/follower.c"
typedef unsigned char U8___3;
#line 150 "follower/follower.c"
typedef unsigned long U32___4;
#line 151 "follower/follower.c"
typedef long S32___1;
#line 152 "follower/follower.c"
typedef char CHAR___0;
#line 153 "follower/follower.c"
typedef int SINT___0;
#line 10 "follower/follower.c"
int true  =    1;
#line 154
int display_tick ;
#line 155
int display_auto_update ;
#line 156
extern void nxt_lcd_update(void) ;
#line 157
extern void systick_wait_ms(unsigned long ms ) ;
#line 159
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memset)(void *__s ,
                                                                                               int __c ,
                                                                                               unsigned long __n ) ;
#line 162 "follower/follower.c"
static struct __anonstruct_display_array_740464799 display_array  ;
#line 163 "follower/follower.c"
static U8 (*display_buffer)[100]  =    display_array.displayN;
#line 165 "follower/follower.c"
static U8 const   font[128][5]  = 
#line 165
  { {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )85,        (U8 const   )97,        (U8 const   )85, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )107,        (U8 const   )95,        (U8 const   )107, 
            (U8 const   )62}, 
   {        (U8 const   )12,        (U8 const   )30,        (U8 const   )60,        (U8 const   )30, 
            (U8 const   )12}, 
   {        (U8 const   )8,        (U8 const   )28,        (U8 const   )62,        (U8 const   )28, 
            (U8 const   )8}, 
   {        (U8 const   )24,        (U8 const   )94,        (U8 const   )126,        (U8 const   )94, 
            (U8 const   )24}, 
   {        (U8 const   )24,        (U8 const   )92,        (U8 const   )126,        (U8 const   )92, 
            (U8 const   )24}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )0,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )95,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )7,        (U8 const   )0,        (U8 const   )7, 
            (U8 const   )0}, 
   {        (U8 const   )20,        (U8 const   )62,        (U8 const   )20,        (U8 const   )62, 
            (U8 const   )20}, 
   {        (U8 const   )4,        (U8 const   )42,        (U8 const   )127,        (U8 const   )42, 
            (U8 const   )16}, 
   {        (U8 const   )38,        (U8 const   )22,        (U8 const   )8,        (U8 const   )52, 
            (U8 const   )50}, 
   {        (U8 const   )54,        (U8 const   )73,        (U8 const   )89,        (U8 const   )38, 
            (U8 const   )80}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )7,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )28,        (U8 const   )34,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )34,        (U8 const   )28, 
            (U8 const   )0}, 
   {        (U8 const   )42,        (U8 const   )28,        (U8 const   )127,        (U8 const   )28, 
            (U8 const   )42}, 
   {        (U8 const   )8,        (U8 const   )8,        (U8 const   )62,        (U8 const   )8, 
            (U8 const   )8}, 
   {        (U8 const   )0,        (U8 const   )80,        (U8 const   )48,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )8,        (U8 const   )8,        (U8 const   )8,        (U8 const   )8, 
            (U8 const   )8}, 
   {        (U8 const   )0,        (U8 const   )96,        (U8 const   )96,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )16,        (U8 const   )8,        (U8 const   )4, 
            (U8 const   )2}, 
   {        (U8 const   )62,        (U8 const   )81,        (U8 const   )73,        (U8 const   )69, 
            (U8 const   )62}, 
   {        (U8 const   )0,        (U8 const   )66,        (U8 const   )127,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )66,        (U8 const   )97,        (U8 const   )81,        (U8 const   )73, 
            (U8 const   )70}, 
   {        (U8 const   )33,        (U8 const   )65,        (U8 const   )69,        (U8 const   )75, 
            (U8 const   )49}, 
   {        (U8 const   )24,        (U8 const   )20,        (U8 const   )18,        (U8 const   )127, 
            (U8 const   )16}, 
   {        (U8 const   )39,        (U8 const   )69,        (U8 const   )69,        (U8 const   )69, 
            (U8 const   )57}, 
   {        (U8 const   )60,        (U8 const   )74,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )48}, 
   {        (U8 const   )1,        (U8 const   )1,        (U8 const   )121,        (U8 const   )5, 
            (U8 const   )3}, 
   {        (U8 const   )54,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )54}, 
   {        (U8 const   )6,        (U8 const   )73,        (U8 const   )73,        (U8 const   )41, 
            (U8 const   )30}, 
   {        (U8 const   )0,        (U8 const   )54,        (U8 const   )54,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )86,        (U8 const   )54,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )8,        (U8 const   )20,        (U8 const   )34,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )20,        (U8 const   )20,        (U8 const   )20,        (U8 const   )20, 
            (U8 const   )20}, 
   {        (U8 const   )65,        (U8 const   )34,        (U8 const   )20,        (U8 const   )8, 
            (U8 const   )0}, 
   {        (U8 const   )2,        (U8 const   )1,        (U8 const   )89,        (U8 const   )5, 
            (U8 const   )2}, 
   {        (U8 const   )28,        (U8 const   )42,        (U8 const   )54,        (U8 const   )62, 
            (U8 const   )12}, 
   {        (U8 const   )126,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )126}, 
   {        (U8 const   )127,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )34}, 
   {        (U8 const   )127,        (U8 const   )65,        (U8 const   )65,        (U8 const   )34, 
            (U8 const   )28}, 
   {        (U8 const   )127,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )65}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )1}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )73, 
            (U8 const   )58}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )8,        (U8 const   )8, 
            (U8 const   )127}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )127,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )64,        (U8 const   )65,        (U8 const   )63, 
            (U8 const   )1}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )20,        (U8 const   )34, 
            (U8 const   )65}, 
   {        (U8 const   )127,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )64}, 
   {        (U8 const   )127,        (U8 const   )2,        (U8 const   )4,        (U8 const   )2, 
            (U8 const   )127}, 
   {        (U8 const   )127,        (U8 const   )4,        (U8 const   )8,        (U8 const   )16, 
            (U8 const   )127}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )62}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )6}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )81,        (U8 const   )33, 
            (U8 const   )94}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )25,        (U8 const   )41, 
            (U8 const   )70}, 
   {        (U8 const   )38,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )50}, 
   {        (U8 const   )1,        (U8 const   )1,        (U8 const   )127,        (U8 const   )1, 
            (U8 const   )1}, 
   {        (U8 const   )63,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )63}, 
   {        (U8 const   )31,        (U8 const   )32,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )31}, 
   {        (U8 const   )127,        (U8 const   )32,        (U8 const   )24,        (U8 const   )32, 
            (U8 const   )127}, 
   {        (U8 const   )99,        (U8 const   )20,        (U8 const   )8,        (U8 const   )20, 
            (U8 const   )99}, 
   {        (U8 const   )3,        (U8 const   )4,        (U8 const   )120,        (U8 const   )4, 
            (U8 const   )3}, 
   {        (U8 const   )97,        (U8 const   )81,        (U8 const   )73,        (U8 const   )69, 
            (U8 const   )67}, 
   {        (U8 const   )0,        (U8 const   )127,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )2,        (U8 const   )4,        (U8 const   )8,        (U8 const   )16, 
            (U8 const   )32}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )65,        (U8 const   )127, 
            (U8 const   )0}, 
   {        (U8 const   )4,        (U8 const   )2,        (U8 const   )1,        (U8 const   )2, 
            (U8 const   )4}, 
   {        (U8 const   )64,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )64}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )7,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )120}, 
   {        (U8 const   )127,        (U8 const   )72,        (U8 const   )68,        (U8 const   )68, 
            (U8 const   )56}, 
   {        (U8 const   )48,        (U8 const   )72,        (U8 const   )72,        (U8 const   )72, 
            (U8 const   )32}, 
   {        (U8 const   )56,        (U8 const   )68,        (U8 const   )68,        (U8 const   )72, 
            (U8 const   )127}, 
   {        (U8 const   )56,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )24}, 
   {        (U8 const   )8,        (U8 const   )126,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )2}, 
   {        (U8 const   )12,        (U8 const   )82,        (U8 const   )82,        (U8 const   )82, 
            (U8 const   )62}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )0,        (U8 const   )68,        (U8 const   )125,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )64,        (U8 const   )64,        (U8 const   )61, 
            (U8 const   )0}, 
   {        (U8 const   )127,        (U8 const   )16,        (U8 const   )40,        (U8 const   )68, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )127,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )124,        (U8 const   )4,        (U8 const   )24,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )124,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )56,        (U8 const   )68,        (U8 const   )68,        (U8 const   )68, 
            (U8 const   )56}, 
   {        (U8 const   )252,        (U8 const   )20,        (U8 const   )20,        (U8 const   )20, 
            (U8 const   )8}, 
   {        (U8 const   )8,        (U8 const   )20,        (U8 const   )20,        (U8 const   )24, 
            (U8 const   )124}, 
   {        (U8 const   )124,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )8}, 
   {        (U8 const   )72,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )32}, 
   {        (U8 const   )4,        (U8 const   )63,        (U8 const   )68,        (U8 const   )64, 
            (U8 const   )32}, 
   {        (U8 const   )60,        (U8 const   )64,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )124}, 
   {        (U8 const   )28,        (U8 const   )32,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )28}, 
   {        (U8 const   )60,        (U8 const   )64,        (U8 const   )56,        (U8 const   )64, 
            (U8 const   )60}, 
   {        (U8 const   )68,        (U8 const   )40,        (U8 const   )16,        (U8 const   )40, 
            (U8 const   )68}, 
   {        (U8 const   )12,        (U8 const   )80,        (U8 const   )80,        (U8 const   )80, 
            (U8 const   )60}, 
   {        (U8 const   )68,        (U8 const   )100,        (U8 const   )84,        (U8 const   )76, 
            (U8 const   )68}, 
   {        (U8 const   )0,        (U8 const   )8,        (U8 const   )54,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )127,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )54,        (U8 const   )8, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )7,        (U8 const   )0,        (U8 const   )7, 
            (U8 const   )0}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}};
#line 422 "follower/follower.c"
int display_tick  =    0;
#line 423 "follower/follower.c"
int display_auto_update  =    1;
#line 424 "follower/follower.c"
int display_x  ;
#line 425 "follower/follower.c"
int display_y  ;
#line 426 "follower/follower.c"
static struct i2c_port_struct i2c_port[4]  ;
#line 427 "follower/follower.c"
char const   avr_brainwash_string[48]  = 
#line 427
  {      (char const   )'\314',      (char const   )'L',      (char const   )'e',      (char const   )'t', 
        (char const   )'\'',      (char const   )'s',      (char const   )' ',      (char const   )'s', 
        (char const   )'a',      (char const   )'m',      (char const   )'b',      (char const   )'a', 
        (char const   )' ',      (char const   )'n',      (char const   )'x',      (char const   )'t', 
        (char const   )' ',      (char const   )'a',      (char const   )'r',      (char const   )'m', 
        (char const   )' ',      (char const   )'i',      (char const   )'n',      (char const   )' ', 
        (char const   )'a',      (char const   )'r',      (char const   )'m',      (char const   )',', 
        (char const   )' ',      (char const   )'(',      (char const   )'c',      (char const   )')', 
        (char const   )'L',      (char const   )'E',      (char const   )'G',      (char const   )'O', 
        (char const   )' ',      (char const   )'S',      (char const   )'y',      (char const   )'s', 
        (char const   )'t',      (char const   )'e',      (char const   )'m',      (char const   )' ', 
        (char const   )'A',      (char const   )'/',      (char const   )'S',      (char const   )'\000'};
#line 440 "follower/follower.c"
static to_avr io_to_avr  ;
#line 441 "follower/follower.c"
static struct motor_struct motor[3]  ;
#line 442
extern void bt_receive(unsigned char *buf ) ;
#line 443
extern int ecrobot_get_bt_status(void) ;
#line 444
extern unsigned long ecrobot_send_bt_packet(unsigned char *buf , unsigned long bufLen ) ;
#line 445
extern int ecrobot_sound_tone(U32___3 freq , U32___3 ms , U32___3 vol ) ;
#line 446 "follower/follower.c"
static S32___0 distance_state[4]  = {      (S32___0 )-1,      (S32___0 )-1,      (S32___0 )-1,      (S32___0 )-1};
#line 447 "follower/follower.c"
static U8___2 data[4]  = {      (U8___2 )0};
#line 448 "follower/follower.c"
U8___2 const   NXT_COLORSENSOR_PROTOCOLS[7]  = {      (U8___2 const   )176,      (U8___2 const   )112,      (U8___2 const   )240,      (U8___2 const   )8, 
        (U8___2 const   )176,      (U8___2 const   )136,      (U8___2 const   )136};
#line 450
extern StatusType TerminateTask(void) ;
#line 451
extern StatusType GetResource(ResourceType resid ) ;
#line 452
extern StatusType ReleaseResource(ResourceType resid ) ;
#line 453
extern StatusType SetEvent(TaskType tskid , EventMaskType mask ) ;
#line 454
extern StatusType ClearEvent(EventMaskType mask ) ;
#line 455
extern StatusType WaitEvent(EventMaskType mask ) ;
#line 456
static U8___3 open_bt_stream(void) ;
#line 457
static SINT___0 connect_bt_slave(CHAR___0 const   *pin ) ;
#line 458 "follower/follower.c"
static unsigned char bt_status  =    (U8___3 )4;
#line 459 "follower/follower.c"
static U8___3 receiveBuf[128]  ;
#line 460
extern TaskType const   SpeedTask ;
#line 461
extern TaskType const   BrakeTask ;
#line 462
extern EventMaskType const   TouchSensorOnEvent ;
#line 463
extern EventMaskType const   event1 ;
#line 464
extern EventMaskType const   event2 ;
#line 465
extern ResourceType R1 ;
#line 466 "follower/follower.c"
int Current_speed  =    55;
#line 467 "follower/follower.c"
int LR_Way  =    0;
#line 468 "follower/follower.c"
int Slow_brake  =    0;
#line 469 "follower/follower.c"
int Motor_Run  =    0;
#line 470 "follower/follower.c"
int Pre_Order  =    0;
#line 471 "follower/follower.c"
int Brake  ;
#line 472 "follower/follower.c"
int Steering  ;
#line 473 "follower/follower.c"
int Sonar_1  =    0;
#line 474 "follower/follower.c"
int Sonar_2  =    0;
#line 475 "follower/follower.c"
int Sonar_Check_1  =    2;
#line 476 "follower/follower.c"
int Sonar_check_2  =    2;
#line 477 "follower/follower.c"
int Actual_Sonar_Num_1  =    0;
#line 478 "follower/follower.c"
int Actual_Sonar_Num_2  =    0;
#line 479 "follower/follower.c"
int Speed_H  =    75;
#line 480 "follower/follower.c"
int Speed_L  =    55;
#line 481 "follower/follower.c"
int Active_Only_One_Sonar  =    0;
#line 482 "follower/follower.c"
int Terminate_Check  =    1601;
#line 483
extern void Motor_Run_Fun(U8___3 buf ) ;
#line 484 "follower/follower.c"
static U8___3 bt_receive_buf[32]  ;
#line 485
void TaskMainEventDispatcher(void) ;
#line 487 "follower/follower.c"
void TaskMainEventDispatcher(void) 
{ 
  int temp ;
  float err ;
  int tmp ;
  int temp_1 ;
  U8___3 *buf6 ;
  U32___4 bufLen7 ;
  SINT___0 i8 ;
  U32___4 len9 ;
  U32___2 n9 ;
  int speed_percent10 ;
  int brake11 ;
  U32___2 n12 ;
  int speed_percent13 ;
  int brake14 ;
  U32___2 n15 ;
  int speed_percent16 ;
  int brake17 ;
  U32___2 n18 ;
  int speed_percent19 ;
  int brake20 ;
  U32___2 n21 ;
  int speed_percent22 ;
  int brake23 ;
  U32___2 n24 ;
  int speed_percent25 ;
  int brake26 ;
  U32___2 n27 ;
  int speed_percent28 ;
  int brake29 ;
  U32___2 n30 ;
  int speed_percent31 ;
  int brake32 ;
  U32___2 n33 ;
  int speed_percent34 ;
  int brake35 ;
  U32___2 n36 ;
  int speed_percent37 ;
  int brake38 ;
  U32___2 n39 ;
  int speed_percent40 ;
  int brake41 ;
  U32___2 n42 ;
  int ret_nxt_motor_get_count43 ;
  U32___1 n44 ;
  int power_percent45 ;
  int brake46 ;
  U32___1 n47 ;
  int power_percent48 ;
  int brake49 ;
  U32___1 n50 ;
  int power_percent51 ;
  int brake52 ;
  U32___1 n53 ;
  int power_percent54 ;
  int brake55 ;
  U32___1 n56 ;
  int power_percent57 ;
  int brake58 ;
  U32___1 n59 ;
  int power_percent60 ;
  int brake61 ;
  U32___1 n62 ;
  int power_percent63 ;
  int brake64 ;
  U32___1 n65 ;
  int power_percent66 ;
  int brake67 ;
  U32___1 n68 ;
  int power_percent69 ;
  int brake70 ;
  U32___1 n71 ;
  int power_percent72 ;
  int brake73 ;
  U32___1 n74 ;
  int power_percent75 ;
  int brake76 ;

  {
#line 567
  buf6 = bt_receive_buf;
#line 568
  bufLen7 = (U32___4 )32;
#line 569
  if ((int )bt_status == 7) {
#line 570
    if (bufLen7 <= 126UL) {
#line 571
      bt_receive(& receiveBuf[0]);
#line 572
      len9 = (U32___4 )receiveBuf[0];
#line 573
      if (len9 > 0UL) {
#line 574
        if (len9 <= bufLen7) {
#line 575
          i8 = 0;
#line 576
          while ((U32___4 )i8 < len9) {
#line 577
            *(buf6 + i8) = receiveBuf[i8 + 2];
#line 578
            i8 ++;
          }
#line 580
          goto Lret_ecrobot_read_bt_packet;
        }
      }
    }
  }
#line 585
  goto Lret_ecrobot_read_bt_packet;
  Lret_ecrobot_read_bt_packet: ;
#line 587
  if (Actual_Sonar_Num_1 - Actual_Sonar_Num_2 > 3) {
#line 588
    bt_receive_buf[4] = (U8___3 )3;
  } else
#line 590
  if (Actual_Sonar_Num_1 == 100) {
#line 591
    if (Actual_Sonar_Num_2 < 50) {
#line 592
      bt_receive_buf[4] = (U8___3 )3;
    } else {
#line 594
      goto _L___0;
    }
  } else
  _L___0: 
#line 598
  if (Actual_Sonar_Num_2 - Actual_Sonar_Num_1 > 3) {
#line 599
    bt_receive_buf[4] = (U8___3 )4;
  } else
#line 601
  if (Actual_Sonar_Num_2 == 100) {
#line 602
    if (Actual_Sonar_Num_1 < 50) {
#line 603
      bt_receive_buf[4] = (U8___3 )4;
    } else {
#line 605
      goto _L;
    }
  } else
  _L: 
#line 609
  if (Actual_Sonar_Num_2 < 50) {
#line 610
    if (Actual_Sonar_Num_1 < 50) {
#line 611
      bt_receive_buf[4] = (U8___3 )0;
    }
  }
#line 614
  if (Actual_Sonar_Num_1 < 50) {
#line 615
    if (Actual_Sonar_Num_2 < 50) {
#line 616
      if ((Actual_Sonar_Num_1 + Actual_Sonar_Num_2) / 2 < 26) {
#line 617
        if ((Actual_Sonar_Num_1 + Actual_Sonar_Num_2) / 2 > 20) {
#line 618
          Current_speed = Speed_L;
#line 619
          Motor_Run = 1;
#line 620
          bt_receive_buf[3] = (U8___3 )1;
        } else {
#line 622
          goto _L___1;
        }
      } else
      _L___1: 
#line 626
      if ((Actual_Sonar_Num_1 + Actual_Sonar_Num_2) / 2 >= 26) {
#line 627
        Current_speed = Speed_H;
#line 628
        Motor_Run = 1;
#line 629
        bt_receive_buf[3] = (U8___3 )1;
      } else {
#line 631
        Current_speed = 0;
#line 632
        Motor_Run = 0;
#line 633
        n9 = (U32___4 )1;
#line 634
        speed_percent10 = 0;
#line 635
        brake11 = 1;
#line 636
        if (n9 < 3UL) {
#line 637
          if (speed_percent10 > 100) {
#line 638
            speed_percent10 = 100;
          }
#line 640
          if (speed_percent10 < -100) {
#line 641
            speed_percent10 = -100;
          }
#line 643
          motor[n9].speed_percent = speed_percent10;
#line 644
          n44 = n9;
#line 645
          power_percent45 = speed_percent10;
#line 646
          brake46 = brake11;
#line 647
          if (n44 < 3UL) {
#line 648
            io_to_avr.output_percent[n44] = (S8___0 )power_percent45;
#line 649
            if (brake46) {
#line 650
              io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n44));
            } else {
#line 652
              io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n44));
            }
          }
#line 655
          goto Lret_nxt_avr_set_motor;
          Lret_nxt_avr_set_motor: ;
        }
#line 658
        goto Lret_nxt_motor_set_speed;
        Lret_nxt_motor_set_speed: 
#line 660
        n12 = (U32___4 )2;
#line 661
        speed_percent13 = 0;
#line 662
        brake14 = 1;
#line 663
        if (n12 < 3UL) {
#line 664
          if (speed_percent13 > 100) {
#line 665
            speed_percent13 = 100;
          }
#line 667
          if (speed_percent13 < -100) {
#line 668
            speed_percent13 = -100;
          }
#line 670
          motor[n12].speed_percent = speed_percent13;
#line 671
          n47 = n12;
#line 672
          power_percent48 = speed_percent13;
#line 673
          brake49 = brake14;
#line 674
          if (n47 < 3UL) {
#line 675
            io_to_avr.output_percent[n47] = (S8___0 )power_percent48;
#line 676
            if (brake49) {
#line 677
              io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n47));
            } else {
#line 679
              io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n47));
            }
          }
#line 682
          goto Lret_nxt_avr_set_motor___0;
          Lret_nxt_avr_set_motor___0: ;
        }
#line 685
        goto Lret_nxt_motor_set_speed___0;
        Lret_nxt_motor_set_speed___0: 
#line 687
        bt_receive_buf[3] = (U8___3 )0;
      }
#line 689
      Terminate_Check = 0;
    } else {
#line 691
      goto _L___2;
    }
  } else
  _L___2: 
#line 695
  if (Actual_Sonar_Num_1 < 50) {
#line 696
    Current_speed = Speed_L;
#line 697
    Motor_Run = 1;
#line 698
    bt_receive_buf[3] = (U8___3 )1;
#line 699
    Terminate_Check = 0;
  } else
#line 701
  if (Actual_Sonar_Num_2 < 50) {
#line 702
    Current_speed = Speed_L;
#line 703
    Motor_Run = 1;
#line 704
    bt_receive_buf[3] = (U8___3 )1;
#line 705
    Terminate_Check = 0;
  } else {
#line 707
    Terminate_Check ++;
#line 708
    if (Terminate_Check == 700) {
#line 709
      Current_speed = 0;
#line 710
      Motor_Run = 0;
#line 711
      n15 = (U32___4 )1;
#line 712
      speed_percent16 = 0;
#line 713
      brake17 = 1;
#line 714
      if (n15 < 3UL) {
#line 715
        if (speed_percent16 > 100) {
#line 716
          speed_percent16 = 100;
        }
#line 718
        if (speed_percent16 < -100) {
#line 719
          speed_percent16 = -100;
        }
#line 721
        motor[n15].speed_percent = speed_percent16;
#line 722
        n50 = n15;
#line 723
        power_percent51 = speed_percent16;
#line 724
        brake52 = brake17;
#line 725
        if (n50 < 3UL) {
#line 726
          io_to_avr.output_percent[n50] = (S8___0 )power_percent51;
#line 727
          if (brake52) {
#line 728
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n50));
          } else {
#line 730
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n50));
          }
        }
#line 733
        goto Lret_nxt_avr_set_motor___1;
        Lret_nxt_avr_set_motor___1: ;
      }
#line 736
      goto Lret_nxt_motor_set_speed___1;
      Lret_nxt_motor_set_speed___1: 
#line 738
      n18 = (U32___4 )2;
#line 739
      speed_percent19 = 0;
#line 740
      brake20 = 1;
#line 741
      if (n18 < 3UL) {
#line 742
        if (speed_percent19 > 100) {
#line 743
          speed_percent19 = 100;
        }
#line 745
        if (speed_percent19 < -100) {
#line 746
          speed_percent19 = -100;
        }
#line 748
        motor[n18].speed_percent = speed_percent19;
#line 749
        n53 = n18;
#line 750
        power_percent54 = speed_percent19;
#line 751
        brake55 = brake20;
#line 752
        if (n53 < 3UL) {
#line 753
          io_to_avr.output_percent[n53] = (S8___0 )power_percent54;
#line 754
          if (brake55) {
#line 755
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n53));
          } else {
#line 757
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n53));
          }
        }
#line 760
        goto Lret_nxt_avr_set_motor___2;
        Lret_nxt_avr_set_motor___2: ;
      }
#line 763
      goto Lret_nxt_motor_set_speed___2;
      Lret_nxt_motor_set_speed___2: 
#line 765
      bt_receive_buf[3] = (U8___3 )0;
#line 766
      ecrobot_sound_tone((U32___4 )1500, (U32___4 )80, (U32___4 )80);
    }
  }
#line 769
  temp = Pre_Order;
#line 770
  if ((int )bt_receive_buf[3] == 1) {
#line 771
    temp = (int )bt_receive_buf[3];
  } else
#line 773
  if ((int )bt_receive_buf[3] == 2) {
#line 774
    temp = (int )bt_receive_buf[3];
  }
#line 776
  if (temp != Pre_Order) {
#line 777
    if ((int )bt_receive_buf[4] != 3) {
#line 778
      if ((int )bt_receive_buf[4] != 4) {
#line 779
        if (LR_Way != 100) {
#line 780
          if (LR_Way != -100) {
#line 781
            Motor_Run = 1;
          }
        }
      }
    }
  }
#line 787
  if ((int )bt_receive_buf[4] == 3) {
#line 788
    LR_Way = -100;
  } else
#line 790
  if ((int )bt_receive_buf[4] == 4) {
#line 791
    LR_Way = 100;
  } else {
#line 793
    LR_Way = 0;
  }
#line 795
  n42 = (U32___4 )0;
#line 796
  if (n42 < 3UL) {
#line 797
    ret_nxt_motor_get_count43 = motor[n42].current_count;
#line 798
    goto Lret_nxt_motor_get_count;
  } else {
#line 800
    ret_nxt_motor_get_count43 = 0;
#line 801
    goto Lret_nxt_motor_get_count;
  }
  Lret_nxt_motor_get_count: 
#line 804
  tmp = ret_nxt_motor_get_count43;
#line 805
  err = (float )((50 * LR_Way) / 100 - tmp);
#line 806
  if (err > (float )0) {
#line 807
    n21 = (U32___4 )0;
#line 808
    speed_percent22 = (int )(err / (float )2 + (float )10);
#line 809
    brake23 = 1;
#line 810
    if (n21 < 3UL) {
#line 811
      if (speed_percent22 > 100) {
#line 812
        speed_percent22 = 100;
      }
#line 814
      if (speed_percent22 < -100) {
#line 815
        speed_percent22 = -100;
      }
#line 817
      motor[n21].speed_percent = speed_percent22;
#line 818
      n56 = n21;
#line 819
      power_percent57 = speed_percent22;
#line 820
      brake58 = brake23;
#line 821
      if (n56 < 3UL) {
#line 822
        io_to_avr.output_percent[n56] = (S8___0 )power_percent57;
#line 823
        if (brake58) {
#line 824
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n56));
        } else {
#line 826
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n56));
        }
      }
#line 829
      goto Lret_nxt_avr_set_motor___3;
      Lret_nxt_avr_set_motor___3: ;
    }
#line 832
    goto Lret_nxt_motor_set_speed___3;
    Lret_nxt_motor_set_speed___3: ;
  } else
#line 835
  if (err < (float )0) {
#line 836
    n24 = (U32___4 )0;
#line 837
    speed_percent25 = (int )(err / (float )2 - (float )10);
#line 838
    brake26 = 1;
#line 839
    if (n24 < 3UL) {
#line 840
      if (speed_percent25 > 100) {
#line 841
        speed_percent25 = 100;
      }
#line 843
      if (speed_percent25 < -100) {
#line 844
        speed_percent25 = -100;
      }
#line 846
      motor[n24].speed_percent = speed_percent25;
#line 847
      n59 = n24;
#line 848
      power_percent60 = speed_percent25;
#line 849
      brake61 = brake26;
#line 850
      if (n59 < 3UL) {
#line 851
        io_to_avr.output_percent[n59] = (S8___0 )power_percent60;
#line 852
        if (brake61) {
#line 853
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n59));
        } else {
#line 855
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n59));
        }
      }
#line 858
      goto Lret_nxt_avr_set_motor___4;
      Lret_nxt_avr_set_motor___4: ;
    }
#line 861
    goto Lret_nxt_motor_set_speed___4;
    Lret_nxt_motor_set_speed___4: ;
  } else {
#line 864
    n27 = (U32___4 )0;
#line 865
    speed_percent28 = 0;
#line 866
    brake29 = 1;
#line 867
    if (n27 < 3UL) {
#line 868
      if (speed_percent28 > 100) {
#line 869
        speed_percent28 = 100;
      }
#line 871
      if (speed_percent28 < -100) {
#line 872
        speed_percent28 = -100;
      }
#line 874
      motor[n27].speed_percent = speed_percent28;
#line 875
      n62 = n27;
#line 876
      power_percent63 = speed_percent28;
#line 877
      brake64 = brake29;
#line 878
      if (n62 < 3UL) {
#line 879
        io_to_avr.output_percent[n62] = (S8___0 )power_percent63;
#line 880
        if (brake64) {
#line 881
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n62));
        } else {
#line 883
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n62));
        }
      }
#line 886
      goto Lret_nxt_avr_set_motor___5;
      Lret_nxt_avr_set_motor___5: ;
    }
#line 889
    goto Lret_nxt_motor_set_speed___5;
    Lret_nxt_motor_set_speed___5: ;
  }
#line 892
  if ((int )bt_receive_buf[5] == 1) {
#line 893
    if (Current_speed != Speed_H) {
#line 894
      Motor_Run = 1;
#line 895
      SetEvent((TaskType )SpeedTask, (EventMaskType )event1);
    }
  } else
#line 898
  if ((int )bt_receive_buf[5] == 2) {
#line 899
    if (Current_speed != Speed_L) {
#line 900
      Motor_Run = 1;
#line 901
      SetEvent((TaskType )SpeedTask, (EventMaskType )event1);
    }
  }
#line 904
  if (Slow_brake > 0) {
#line 905
    if (Current_speed == Speed_H) {
#line 906
      temp_1 = ((Speed_H * 2 + 1) - Slow_brake) / 2;
    }
#line 908
    if (Current_speed == Speed_L) {
#line 909
      temp_1 = ((Speed_L * 2 + 1) - Slow_brake) / 2;
    }
#line 911
    if ((int )bt_receive_buf[3] == 1) {
#line 912
      n30 = (U32___4 )1;
#line 913
      speed_percent31 = - Current_speed + temp_1;
#line 914
      brake32 = 1;
#line 915
      if (n30 < 3UL) {
#line 916
        if (speed_percent31 > 100) {
#line 917
          speed_percent31 = 100;
        }
#line 919
        if (speed_percent31 < -100) {
#line 920
          speed_percent31 = -100;
        }
#line 922
        motor[n30].speed_percent = speed_percent31;
#line 923
        n65 = n30;
#line 924
        power_percent66 = speed_percent31;
#line 925
        brake67 = brake32;
#line 926
        if (n65 < 3UL) {
#line 927
          io_to_avr.output_percent[n65] = (S8___0 )power_percent66;
#line 928
          if (brake67) {
#line 929
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n65));
          } else {
#line 931
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n65));
          }
        }
#line 934
        goto Lret_nxt_avr_set_motor___6;
        Lret_nxt_avr_set_motor___6: ;
      }
#line 937
      goto Lret_nxt_motor_set_speed___6;
      Lret_nxt_motor_set_speed___6: 
#line 939
      n33 = (U32___4 )2;
#line 940
      speed_percent34 = - Current_speed + temp_1;
#line 941
      brake35 = 1;
#line 942
      if (n33 < 3UL) {
#line 943
        if (speed_percent34 > 100) {
#line 944
          speed_percent34 = 100;
        }
#line 946
        if (speed_percent34 < -100) {
#line 947
          speed_percent34 = -100;
        }
#line 949
        motor[n33].speed_percent = speed_percent34;
#line 950
        n68 = n33;
#line 951
        power_percent69 = speed_percent34;
#line 952
        brake70 = brake35;
#line 953
        if (n68 < 3UL) {
#line 954
          io_to_avr.output_percent[n68] = (S8___0 )power_percent69;
#line 955
          if (brake70) {
#line 956
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n68));
          } else {
#line 958
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n68));
          }
        }
#line 961
        goto Lret_nxt_avr_set_motor___7;
        Lret_nxt_avr_set_motor___7: ;
      }
#line 964
      goto Lret_nxt_motor_set_speed___7;
      Lret_nxt_motor_set_speed___7: ;
    }
#line 967
    if ((int )bt_receive_buf[3] == 2) {
#line 968
      n36 = (U32___4 )1;
#line 969
      speed_percent37 = Current_speed - temp_1;
#line 970
      brake38 = 1;
#line 971
      if (n36 < 3UL) {
#line 972
        if (speed_percent37 > 100) {
#line 973
          speed_percent37 = 100;
        }
#line 975
        if (speed_percent37 < -100) {
#line 976
          speed_percent37 = -100;
        }
#line 978
        motor[n36].speed_percent = speed_percent37;
#line 979
        n71 = n36;
#line 980
        power_percent72 = speed_percent37;
#line 981
        brake73 = brake38;
#line 982
        if (n71 < 3UL) {
#line 983
          io_to_avr.output_percent[n71] = (S8___0 )power_percent72;
#line 984
          if (brake73) {
#line 985
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n71));
          } else {
#line 987
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n71));
          }
        }
#line 990
        goto Lret_nxt_avr_set_motor___8;
        Lret_nxt_avr_set_motor___8: ;
      }
#line 993
      goto Lret_nxt_motor_set_speed___8;
      Lret_nxt_motor_set_speed___8: 
#line 995
      n39 = (U32___4 )2;
#line 996
      speed_percent40 = Current_speed - temp_1;
#line 997
      brake41 = 1;
#line 998
      if (n39 < 3UL) {
#line 999
        if (speed_percent40 > 100) {
#line 1000
          speed_percent40 = 100;
        }
#line 1002
        if (speed_percent40 < -100) {
#line 1003
          speed_percent40 = -100;
        }
#line 1005
        motor[n39].speed_percent = speed_percent40;
#line 1006
        n74 = n39;
#line 1007
        power_percent75 = speed_percent40;
#line 1008
        brake76 = brake41;
#line 1009
        if (n74 < 3UL) {
#line 1010
          io_to_avr.output_percent[n74] = (S8___0 )power_percent75;
#line 1011
          if (brake76) {
#line 1012
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n74));
          } else {
#line 1014
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n74));
          }
        }
#line 1017
        goto Lret_nxt_avr_set_motor___9;
        Lret_nxt_avr_set_motor___9: ;
      }
#line 1020
      goto Lret_nxt_motor_set_speed___9;
      Lret_nxt_motor_set_speed___9: ;
    }
#line 1023
    Slow_brake --;
#line 1024
    Motor_Run = 0;
  } else
#line 1026
  if ((int )bt_receive_buf[6] == 1) {
#line 1027
    goto _L___4;
  } else
#line 1029
  if ((int )bt_receive_buf[6] == 2) {
    _L___4: 
#line 1031
    if ((int )bt_receive_buf[7] == 1) {
#line 1032
      Brake = (int )bt_receive_buf[6];
#line 1033
      SetEvent((TaskType )BrakeTask, (EventMaskType )event2);
    } else {
#line 1035
      goto _L___3;
    }
  } else
  _L___3: 
#line 1039
  if (Motor_Run == 1) {
#line 1040
    Motor_Run_Fun(bt_receive_buf[3]);
#line 1041
    if ((int )bt_receive_buf[3] == 1) {
#line 1042
      Pre_Order = (int )bt_receive_buf[3];
    } else
#line 1044
    if ((int )bt_receive_buf[3] == 2) {
#line 1045
      Pre_Order = (int )bt_receive_buf[3];
    }
  }
#line 1048
  TerminateTask();
#line 1049
  return;
}
}
#line 1053 "follower/follower.c"
static U8___3 bt_send_buf[32]  ;
#line 1055 "follower/follower.c"
void TaskMainEventHandler(void) 
{ 


  {
#line 1060
  while (true) {
#line 1061
    WaitEvent((EventMaskType )TouchSensorOnEvent);
#line 1062
    ClearEvent((EventMaskType )TouchSensorOnEvent);
#line 1063
    bt_send_buf[0] = (U8___3 )1;
#line 1064
    ecrobot_send_bt_packet(bt_send_buf, (U32___4 )32);
#line 1065
    bt_send_buf[0] = (U8___3 )0;
#line 1066
    ecrobot_send_bt_packet(bt_send_buf, (U32___4 )32);
  }
#line 1068
  TerminateTask();
#line 1070
  return;
}
}
#line 1071 "follower/follower.c"
void TaskMainInitialize(void) 
{ 
  int Count_temp ;
  int Right_Count ;
  int Left_Count ;
  int temp ;
  int tmp ;
  int tmp___0 ;
  int tmp___1 ;
  int tmp___2 ;
  U32___2 n9 ;
  int speed_percent10 ;
  int brake11 ;
  U32___2 n12 ;
  int speed_percent13 ;
  int brake14 ;
  U32___2 n15 ;
  int speed_percent16 ;
  int brake17 ;
  U32___2 n18 ;
  int speed_percent19 ;
  int brake20 ;
  U32___2 n21 ;
  int speed_percent22 ;
  int brake23 ;
  U32___2 n24 ;
  int speed_percent25 ;
  int brake26 ;
  U32___2 n27 ;
  int speed_percent28 ;
  int brake29 ;
  U32___2 n30 ;
  int speed_percent31 ;
  int brake32 ;
  U32___2 n33 ;
  int speed_percent34 ;
  int brake35 ;
  U32___2 n36 ;
  int speed_percent37 ;
  int brake38 ;
  U32___2 n39 ;
  int speed_percent40 ;
  int brake41 ;
  U32___2 n42 ;
  int speed_percent43 ;
  int brake44 ;
  U32___2 n45 ;
  int speed_percent46 ;
  int brake47 ;
  U32___2 n48 ;
  int speed_percent49 ;
  int brake50 ;
  U32___2 n51 ;
  int count52 ;
  U32___2 n53 ;
  int count54 ;
  U32___2 n55 ;
  int count56 ;
  U32___2 n57 ;
  int ret_nxt_motor_get_count58 ;
  U32___2 n59 ;
  int ret_nxt_motor_get_count60 ;
  U32___2 n61 ;
  int ret_nxt_motor_get_count62 ;
  U32___2 n63 ;
  int ret_nxt_motor_get_count64 ;
  U32___2 n65 ;
  int ret_nxt_motor_get_count66 ;
  U32___2 n67 ;
  int ret_nxt_motor_get_count68 ;
  U32___2 n69 ;
  int ret_nxt_motor_get_count70 ;
  U32___2 n71 ;
  int ret_nxt_motor_get_count72 ;
  U32___2 n73 ;
  int ret_nxt_motor_get_count74 ;
  U32___2 n75 ;
  int ret_nxt_motor_get_count76 ;
  U32___1 n77 ;
  int power_percent78 ;
  int brake79 ;
  U32___1 n80 ;
  int power_percent81 ;
  int brake82 ;
  U32___1 n83 ;
  int power_percent84 ;
  int brake85 ;
  U32___1 n86 ;
  int power_percent87 ;
  int brake88 ;
  U32___1 n89 ;
  int power_percent90 ;
  int brake91 ;
  U32___1 n92 ;
  int power_percent93 ;
  int brake94 ;
  U32___1 n95 ;
  int power_percent96 ;
  int brake97 ;
  U32___1 n98 ;
  int power_percent99 ;
  int brake100 ;
  U32___1 n101 ;
  int power_percent102 ;
  int brake103 ;
  U32___1 n104 ;
  int power_percent105 ;
  int brake106 ;
  U32___1 n107 ;
  int power_percent108 ;
  int brake109 ;
  U32___1 n110 ;
  int power_percent111 ;
  int brake112 ;
  U32___1 n113 ;
  int power_percent114 ;
  int brake115 ;
  U32___1 n116 ;
  int power_percent117 ;
  int brake118 ;

  {
#line 1196
  GetResource(R1);
#line 1197
  Count_temp = 0;
#line 1198
  Right_Count = 0;
#line 1199
  Left_Count = 0;
#line 1200
  temp = 100;
#line 1201
  n9 = (U32___4 )0;
#line 1202
  speed_percent10 = 35;
#line 1203
  brake11 = 1;
#line 1204
  if (n9 < 3UL) {
#line 1205
    if (speed_percent10 > 100) {
#line 1206
      speed_percent10 = 100;
    }
#line 1208
    if (speed_percent10 < -100) {
#line 1209
      speed_percent10 = -100;
    }
#line 1211
    motor[n9].speed_percent = speed_percent10;
#line 1212
    n77 = n9;
#line 1213
    power_percent78 = speed_percent10;
#line 1214
    brake79 = brake11;
#line 1215
    if (n77 < 3UL) {
#line 1216
      io_to_avr.output_percent[n77] = (S8___0 )power_percent78;
#line 1217
      if (brake79) {
#line 1218
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n77));
      } else {
#line 1220
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n77));
      }
    }
#line 1223
    goto Lret_nxt_avr_set_motor;
    Lret_nxt_avr_set_motor: ;
  }
#line 1226
  goto Lret_nxt_motor_set_speed;
  Lret_nxt_motor_set_speed: ;
#line 1228
  while (true) {
#line 1229
    n57 = (U32___4 )0;
#line 1230
    if (n57 < 3UL) {
#line 1231
      ret_nxt_motor_get_count58 = motor[n57].current_count;
#line 1232
      goto Lret_nxt_motor_get_count;
    } else {
#line 1234
      ret_nxt_motor_get_count58 = 0;
#line 1235
      goto Lret_nxt_motor_get_count;
    }
    Lret_nxt_motor_get_count: 
#line 1238
    tmp = ret_nxt_motor_get_count58;
#line 1239
    if (! (temp != tmp)) {
#line 1240
      break;
    }
#line 1242
    n59 = (U32___4 )0;
#line 1243
    if (n59 < 3UL) {
#line 1244
      ret_nxt_motor_get_count60 = motor[n59].current_count;
#line 1245
      goto Lret_nxt_motor_get_count___0;
    } else {
#line 1247
      ret_nxt_motor_get_count60 = 0;
#line 1248
      goto Lret_nxt_motor_get_count___0;
    }
    Lret_nxt_motor_get_count___0: 
#line 1251
    temp = ret_nxt_motor_get_count60;
#line 1252
    systick_wait_ms((U32___4 )50);
  }
#line 1254
  n12 = (U32___4 )0;
#line 1255
  speed_percent13 = 0;
#line 1256
  brake14 = 1;
#line 1257
  if (n12 < 3UL) {
#line 1258
    if (speed_percent13 > 100) {
#line 1259
      speed_percent13 = 100;
    }
#line 1261
    if (speed_percent13 < -100) {
#line 1262
      speed_percent13 = -100;
    }
#line 1264
    motor[n12].speed_percent = speed_percent13;
#line 1265
    n80 = n12;
#line 1266
    power_percent81 = speed_percent13;
#line 1267
    brake82 = brake14;
#line 1268
    if (n80 < 3UL) {
#line 1269
      io_to_avr.output_percent[n80] = (S8___0 )power_percent81;
#line 1270
      if (brake82) {
#line 1271
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n80));
      } else {
#line 1273
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n80));
      }
    }
#line 1276
    goto Lret_nxt_avr_set_motor___0;
    Lret_nxt_avr_set_motor___0: ;
  }
#line 1279
  goto Lret_nxt_motor_set_speed___0;
  Lret_nxt_motor_set_speed___0: 
#line 1281
  n61 = (U32___4 )0;
#line 1282
  if (n61 < 3UL) {
#line 1283
    ret_nxt_motor_get_count62 = motor[n61].current_count;
#line 1284
    goto Lret_nxt_motor_get_count___1;
  } else {
#line 1286
    ret_nxt_motor_get_count62 = 0;
#line 1287
    goto Lret_nxt_motor_get_count___1;
  }
  Lret_nxt_motor_get_count___1: 
#line 1290
  Right_Count = ret_nxt_motor_get_count62;
#line 1291
  n15 = (U32___4 )0;
#line 1292
  speed_percent16 = -35;
#line 1293
  brake17 = 1;
#line 1294
  if (n15 < 3UL) {
#line 1295
    if (speed_percent16 > 100) {
#line 1296
      speed_percent16 = 100;
    }
#line 1298
    if (speed_percent16 < -100) {
#line 1299
      speed_percent16 = -100;
    }
#line 1301
    motor[n15].speed_percent = speed_percent16;
#line 1302
    n83 = n15;
#line 1303
    power_percent84 = speed_percent16;
#line 1304
    brake85 = brake17;
#line 1305
    if (n83 < 3UL) {
#line 1306
      io_to_avr.output_percent[n83] = (S8___0 )power_percent84;
#line 1307
      if (brake85) {
#line 1308
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n83));
      } else {
#line 1310
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n83));
      }
    }
#line 1313
    goto Lret_nxt_avr_set_motor___1;
    Lret_nxt_avr_set_motor___1: ;
  }
#line 1316
  goto Lret_nxt_motor_set_speed___1;
  Lret_nxt_motor_set_speed___1: 
#line 1318
  temp = 100;
#line 1319
  while (true) {
#line 1320
    n63 = (U32___4 )0;
#line 1321
    if (n63 < 3UL) {
#line 1322
      ret_nxt_motor_get_count64 = motor[n63].current_count;
#line 1323
      goto Lret_nxt_motor_get_count___2;
    } else {
#line 1325
      ret_nxt_motor_get_count64 = 0;
#line 1326
      goto Lret_nxt_motor_get_count___2;
    }
    Lret_nxt_motor_get_count___2: 
#line 1329
    tmp___0 = ret_nxt_motor_get_count64;
#line 1330
    if (! (temp != tmp___0)) {
#line 1331
      break;
    }
#line 1333
    n65 = (U32___4 )0;
#line 1334
    if (n65 < 3UL) {
#line 1335
      ret_nxt_motor_get_count66 = motor[n65].current_count;
#line 1336
      goto Lret_nxt_motor_get_count___3;
    } else {
#line 1338
      ret_nxt_motor_get_count66 = 0;
#line 1339
      goto Lret_nxt_motor_get_count___3;
    }
    Lret_nxt_motor_get_count___3: 
#line 1342
    temp = ret_nxt_motor_get_count66;
#line 1343
    systick_wait_ms((U32___4 )50);
  }
#line 1345
  n18 = (U32___4 )0;
#line 1346
  speed_percent19 = 0;
#line 1347
  brake20 = 1;
#line 1348
  if (n18 < 3UL) {
#line 1349
    if (speed_percent19 > 100) {
#line 1350
      speed_percent19 = 100;
    }
#line 1352
    if (speed_percent19 < -100) {
#line 1353
      speed_percent19 = -100;
    }
#line 1355
    motor[n18].speed_percent = speed_percent19;
#line 1356
    n86 = n18;
#line 1357
    power_percent87 = speed_percent19;
#line 1358
    brake88 = brake20;
#line 1359
    if (n86 < 3UL) {
#line 1360
      io_to_avr.output_percent[n86] = (S8___0 )power_percent87;
#line 1361
      if (brake88) {
#line 1362
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n86));
      } else {
#line 1364
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n86));
      }
    }
#line 1367
    goto Lret_nxt_avr_set_motor___2;
    Lret_nxt_avr_set_motor___2: ;
  }
#line 1370
  goto Lret_nxt_motor_set_speed___2;
  Lret_nxt_motor_set_speed___2: 
#line 1372
  n67 = (U32___4 )0;
#line 1373
  if (n67 < 3UL) {
#line 1374
    ret_nxt_motor_get_count68 = motor[n67].current_count;
#line 1375
    goto Lret_nxt_motor_get_count___4;
  } else {
#line 1377
    ret_nxt_motor_get_count68 = 0;
#line 1378
    goto Lret_nxt_motor_get_count___4;
  }
  Lret_nxt_motor_get_count___4: 
#line 1381
  Left_Count = ret_nxt_motor_get_count68;
#line 1382
  Count_temp = (Right_Count - Left_Count) / 2 + Left_Count;
#line 1383
  n21 = (U32___4 )0;
#line 1384
  speed_percent22 = 35;
#line 1385
  brake23 = 1;
#line 1386
  if (n21 < 3UL) {
#line 1387
    if (speed_percent22 > 100) {
#line 1388
      speed_percent22 = 100;
    }
#line 1390
    if (speed_percent22 < -100) {
#line 1391
      speed_percent22 = -100;
    }
#line 1393
    motor[n21].speed_percent = speed_percent22;
#line 1394
    n89 = n21;
#line 1395
    power_percent90 = speed_percent22;
#line 1396
    brake91 = brake23;
#line 1397
    if (n89 < 3UL) {
#line 1398
      io_to_avr.output_percent[n89] = (S8___0 )power_percent90;
#line 1399
      if (brake91) {
#line 1400
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n89));
      } else {
#line 1402
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n89));
      }
    }
#line 1405
    goto Lret_nxt_avr_set_motor___3;
    Lret_nxt_avr_set_motor___3: ;
  }
#line 1408
  goto Lret_nxt_motor_set_speed___3;
  Lret_nxt_motor_set_speed___3: 
#line 1410
  n69 = (U32___4 )0;
#line 1411
  if (n69 < 3UL) {
#line 1412
    ret_nxt_motor_get_count70 = motor[n69].current_count;
#line 1413
    goto Lret_nxt_motor_get_count___5;
  } else {
#line 1415
    ret_nxt_motor_get_count70 = 0;
#line 1416
    goto Lret_nxt_motor_get_count___5;
  }
  Lret_nxt_motor_get_count___5: 
#line 1419
  temp = ret_nxt_motor_get_count70;
#line 1420
  while (temp != Count_temp) {
#line 1421
    n71 = (U32___4 )0;
#line 1422
    if (n71 < 3UL) {
#line 1423
      ret_nxt_motor_get_count72 = motor[n71].current_count;
#line 1424
      goto Lret_nxt_motor_get_count___6;
    } else {
#line 1426
      ret_nxt_motor_get_count72 = 0;
#line 1427
      goto Lret_nxt_motor_get_count___6;
    }
    Lret_nxt_motor_get_count___6: 
#line 1430
    temp = ret_nxt_motor_get_count72;
  }
#line 1432
  n24 = (U32___4 )0;
#line 1433
  speed_percent25 = 0;
#line 1434
  brake26 = 1;
#line 1435
  if (n24 < 3UL) {
#line 1436
    if (speed_percent25 > 100) {
#line 1437
      speed_percent25 = 100;
    }
#line 1439
    if (speed_percent25 < -100) {
#line 1440
      speed_percent25 = -100;
    }
#line 1442
    motor[n24].speed_percent = speed_percent25;
#line 1443
    n92 = n24;
#line 1444
    power_percent93 = speed_percent25;
#line 1445
    brake94 = brake26;
#line 1446
    if (n92 < 3UL) {
#line 1447
      io_to_avr.output_percent[n92] = (S8___0 )power_percent93;
#line 1448
      if (brake94) {
#line 1449
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n92));
      } else {
#line 1451
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n92));
      }
    }
#line 1454
    goto Lret_nxt_avr_set_motor___4;
    Lret_nxt_avr_set_motor___4: ;
  }
#line 1457
  goto Lret_nxt_motor_set_speed___4;
  Lret_nxt_motor_set_speed___4: 
#line 1459
  n51 = (U32___4 )0;
#line 1460
  count52 = 0;
#line 1461
  if (n51 < 3UL) {
#line 1462
    motor[n51].current_count = count52;
  }
#line 1464
  goto Lret_nxt_motor_set_count;
  Lret_nxt_motor_set_count: 
#line 1466
  n27 = (U32___4 )1;
#line 1467
  speed_percent28 = 0;
#line 1468
  brake29 = 1;
#line 1469
  if (n27 < 3UL) {
#line 1470
    if (speed_percent28 > 100) {
#line 1471
      speed_percent28 = 100;
    }
#line 1473
    if (speed_percent28 < -100) {
#line 1474
      speed_percent28 = -100;
    }
#line 1476
    motor[n27].speed_percent = speed_percent28;
#line 1477
    n95 = n27;
#line 1478
    power_percent96 = speed_percent28;
#line 1479
    brake97 = brake29;
#line 1480
    if (n95 < 3UL) {
#line 1481
      io_to_avr.output_percent[n95] = (S8___0 )power_percent96;
#line 1482
      if (brake97) {
#line 1483
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n95));
      } else {
#line 1485
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n95));
      }
    }
#line 1488
    goto Lret_nxt_avr_set_motor___5;
    Lret_nxt_avr_set_motor___5: ;
  }
#line 1491
  goto Lret_nxt_motor_set_speed___5;
  Lret_nxt_motor_set_speed___5: 
#line 1493
  n30 = (U32___4 )2;
#line 1494
  speed_percent31 = 0;
#line 1495
  brake32 = 1;
#line 1496
  if (n30 < 3UL) {
#line 1497
    if (speed_percent31 > 100) {
#line 1498
      speed_percent31 = 100;
    }
#line 1500
    if (speed_percent31 < -100) {
#line 1501
      speed_percent31 = -100;
    }
#line 1503
    motor[n30].speed_percent = speed_percent31;
#line 1504
    n98 = n30;
#line 1505
    power_percent99 = speed_percent31;
#line 1506
    brake100 = brake32;
#line 1507
    if (n98 < 3UL) {
#line 1508
      io_to_avr.output_percent[n98] = (S8___0 )power_percent99;
#line 1509
      if (brake100) {
#line 1510
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n98));
      } else {
#line 1512
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n98));
      }
    }
#line 1515
    goto Lret_nxt_avr_set_motor___6;
    Lret_nxt_avr_set_motor___6: ;
  }
#line 1518
  goto Lret_nxt_motor_set_speed___6;
  Lret_nxt_motor_set_speed___6: 
#line 1520
  n53 = (U32___4 )1;
#line 1521
  count54 = 0;
#line 1522
  if (n53 < 3UL) {
#line 1523
    motor[n53].current_count = count54;
  }
#line 1525
  goto Lret_nxt_motor_set_count___0;
  Lret_nxt_motor_set_count___0: 
#line 1527
  n55 = (U32___4 )2;
#line 1528
  count56 = 0;
#line 1529
  if (n55 < 3UL) {
#line 1530
    motor[n55].current_count = count56;
  }
#line 1532
  goto Lret_nxt_motor_set_count___1;
  Lret_nxt_motor_set_count___1: 
#line 1534
  systick_wait_ms((U32___4 )500);
#line 1535
  n33 = (U32___4 )1;
#line 1536
  speed_percent34 = 100;
#line 1537
  brake35 = 1;
#line 1538
  if (n33 < 3UL) {
#line 1539
    if (speed_percent34 > 100) {
#line 1540
      speed_percent34 = 100;
    }
#line 1542
    if (speed_percent34 < -100) {
#line 1543
      speed_percent34 = -100;
    }
#line 1545
    motor[n33].speed_percent = speed_percent34;
#line 1546
    n101 = n33;
#line 1547
    power_percent102 = speed_percent34;
#line 1548
    brake103 = brake35;
#line 1549
    if (n101 < 3UL) {
#line 1550
      io_to_avr.output_percent[n101] = (S8___0 )power_percent102;
#line 1551
      if (brake103) {
#line 1552
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n101));
      } else {
#line 1554
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n101));
      }
    }
#line 1557
    goto Lret_nxt_avr_set_motor___7;
    Lret_nxt_avr_set_motor___7: ;
  }
#line 1560
  goto Lret_nxt_motor_set_speed___7;
  Lret_nxt_motor_set_speed___7: 
#line 1562
  n36 = (U32___4 )2;
#line 1563
  speed_percent37 = 100;
#line 1564
  brake38 = 1;
#line 1565
  if (n36 < 3UL) {
#line 1566
    if (speed_percent37 > 100) {
#line 1567
      speed_percent37 = 100;
    }
#line 1569
    if (speed_percent37 < -100) {
#line 1570
      speed_percent37 = -100;
    }
#line 1572
    motor[n36].speed_percent = speed_percent37;
#line 1573
    n104 = n36;
#line 1574
    power_percent105 = speed_percent37;
#line 1575
    brake106 = brake38;
#line 1576
    if (n104 < 3UL) {
#line 1577
      io_to_avr.output_percent[n104] = (S8___0 )power_percent105;
#line 1578
      if (brake106) {
#line 1579
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n104));
      } else {
#line 1581
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n104));
      }
    }
#line 1584
    goto Lret_nxt_avr_set_motor___8;
    Lret_nxt_avr_set_motor___8: ;
  }
#line 1587
  goto Lret_nxt_motor_set_speed___8;
  Lret_nxt_motor_set_speed___8: 
#line 1589
  systick_wait_ms((U32___4 )1000);
#line 1590
  n73 = (U32___4 )1;
#line 1591
  if (n73 < 3UL) {
#line 1592
    ret_nxt_motor_get_count74 = motor[n73].current_count;
#line 1593
    goto Lret_nxt_motor_get_count___7;
  } else {
#line 1595
    ret_nxt_motor_get_count74 = 0;
#line 1596
    goto Lret_nxt_motor_get_count___7;
  }
  Lret_nxt_motor_get_count___7: 
#line 1599
  tmp___1 = ret_nxt_motor_get_count74;
#line 1600
  Right_Count = tmp___1 / 10;
#line 1601
  n75 = (U32___4 )2;
#line 1602
  if (n75 < 3UL) {
#line 1603
    ret_nxt_motor_get_count76 = motor[n75].current_count;
#line 1604
    goto Lret_nxt_motor_get_count___8;
  } else {
#line 1606
    ret_nxt_motor_get_count76 = 0;
#line 1607
    goto Lret_nxt_motor_get_count___8;
  }
  Lret_nxt_motor_get_count___8: 
#line 1610
  tmp___2 = ret_nxt_motor_get_count76;
#line 1611
  Left_Count = tmp___2 / 10;
#line 1612
  Steering = 38 + ((Right_Count + Left_Count) / 2) * 2;
#line 1613
  n39 = (U32___4 )1;
#line 1614
  speed_percent40 = -100;
#line 1615
  brake41 = 1;
#line 1616
  if (n39 < 3UL) {
#line 1617
    if (speed_percent40 > 100) {
#line 1618
      speed_percent40 = 100;
    }
#line 1620
    if (speed_percent40 < -100) {
#line 1621
      speed_percent40 = -100;
    }
#line 1623
    motor[n39].speed_percent = speed_percent40;
#line 1624
    n107 = n39;
#line 1625
    power_percent108 = speed_percent40;
#line 1626
    brake109 = brake41;
#line 1627
    if (n107 < 3UL) {
#line 1628
      io_to_avr.output_percent[n107] = (S8___0 )power_percent108;
#line 1629
      if (brake109) {
#line 1630
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n107));
      } else {
#line 1632
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n107));
      }
    }
#line 1635
    goto Lret_nxt_avr_set_motor___9;
    Lret_nxt_avr_set_motor___9: ;
  }
#line 1638
  goto Lret_nxt_motor_set_speed___9;
  Lret_nxt_motor_set_speed___9: 
#line 1640
  n42 = (U32___4 )2;
#line 1641
  speed_percent43 = -100;
#line 1642
  brake44 = 1;
#line 1643
  if (n42 < 3UL) {
#line 1644
    if (speed_percent43 > 100) {
#line 1645
      speed_percent43 = 100;
    }
#line 1647
    if (speed_percent43 < -100) {
#line 1648
      speed_percent43 = -100;
    }
#line 1650
    motor[n42].speed_percent = speed_percent43;
#line 1651
    n110 = n42;
#line 1652
    power_percent111 = speed_percent43;
#line 1653
    brake112 = brake44;
#line 1654
    if (n110 < 3UL) {
#line 1655
      io_to_avr.output_percent[n110] = (S8___0 )power_percent111;
#line 1656
      if (brake112) {
#line 1657
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n110));
      } else {
#line 1659
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n110));
      }
    }
#line 1662
    goto Lret_nxt_avr_set_motor___10;
    Lret_nxt_avr_set_motor___10: ;
  }
#line 1665
  goto Lret_nxt_motor_set_speed___10;
  Lret_nxt_motor_set_speed___10: 
#line 1667
  systick_wait_ms((U32___4 )1000);
#line 1668
  n45 = (U32___4 )1;
#line 1669
  speed_percent46 = 0;
#line 1670
  brake47 = 1;
#line 1671
  if (n45 < 3UL) {
#line 1672
    if (speed_percent46 > 100) {
#line 1673
      speed_percent46 = 100;
    }
#line 1675
    if (speed_percent46 < -100) {
#line 1676
      speed_percent46 = -100;
    }
#line 1678
    motor[n45].speed_percent = speed_percent46;
#line 1679
    n113 = n45;
#line 1680
    power_percent114 = speed_percent46;
#line 1681
    brake115 = brake47;
#line 1682
    if (n113 < 3UL) {
#line 1683
      io_to_avr.output_percent[n113] = (S8___0 )power_percent114;
#line 1684
      if (brake115) {
#line 1685
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n113));
      } else {
#line 1687
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n113));
      }
    }
#line 1690
    goto Lret_nxt_avr_set_motor___11;
    Lret_nxt_avr_set_motor___11: ;
  }
#line 1693
  goto Lret_nxt_motor_set_speed___11;
  Lret_nxt_motor_set_speed___11: 
#line 1695
  n48 = (U32___4 )2;
#line 1696
  speed_percent49 = 0;
#line 1697
  brake50 = 1;
#line 1698
  if (n48 < 3UL) {
#line 1699
    if (speed_percent49 > 100) {
#line 1700
      speed_percent49 = 100;
    }
#line 1702
    if (speed_percent49 < -100) {
#line 1703
      speed_percent49 = -100;
    }
#line 1705
    motor[n48].speed_percent = speed_percent49;
#line 1706
    n116 = n48;
#line 1707
    power_percent117 = speed_percent49;
#line 1708
    brake118 = brake50;
#line 1709
    if (n116 < 3UL) {
#line 1710
      io_to_avr.output_percent[n116] = (S8___0 )power_percent117;
#line 1711
      if (brake118) {
#line 1712
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n116));
      } else {
#line 1714
        io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n116));
      }
    }
#line 1717
    goto Lret_nxt_avr_set_motor___12;
    Lret_nxt_avr_set_motor___12: ;
  }
#line 1720
  goto Lret_nxt_motor_set_speed___12;
  Lret_nxt_motor_set_speed___12: 
#line 1722
  ReleaseResource(R1);
#line 1723
  TerminateTask();
#line 1724
  return;
}
}
#line 1727 "follower/follower.c"
void TaskMainSpeedTask(void) 
{ 


  {
#line 1732
  while (true) {
#line 1733
    WaitEvent((EventMaskType )event1);
#line 1734
    ClearEvent((EventMaskType )event1);
#line 1735
    GetResource(R1);
#line 1736
    if (Current_speed == Speed_L) {
#line 1737
      Current_speed = Speed_H;
    } else
#line 1739
    if (Current_speed == Speed_H) {
#line 1740
      Current_speed = Speed_L;
    }
#line 1742
    Motor_Run_Fun((U8___3 )Pre_Order);
#line 1743
    ReleaseResource(R1);
  }
#line 1745
  TerminateTask();
#line 1747
  return;
}
}
#line 1748 "follower/follower.c"
void TaskMainBrakeTask(void) 
{ 
  U32___2 n1 ;
  int speed_percent2 ;
  int brake3 ;
  U32___2 n4 ;
  int speed_percent5 ;
  int brake6 ;
  U32___1 n7 ;
  int power_percent8 ;
  int brake9 ;
  U32___1 n10 ;
  int power_percent11 ;
  int brake12 ;

  {
#line 1764
  while (true) {
#line 1765
    WaitEvent((EventMaskType )event2);
#line 1766
    ClearEvent((EventMaskType )event2);
#line 1767
    GetResource(R1);
#line 1768
    if (Brake == 1) {
#line 1769
      n1 = (U32___4 )1;
#line 1770
      speed_percent2 = 0;
#line 1771
      brake3 = 1;
#line 1772
      if (n1 < 3UL) {
#line 1773
        if (speed_percent2 > 100) {
#line 1774
          speed_percent2 = 100;
        }
#line 1776
        if (speed_percent2 < -100) {
#line 1777
          speed_percent2 = -100;
        }
#line 1779
        motor[n1].speed_percent = speed_percent2;
#line 1780
        n7 = n1;
#line 1781
        power_percent8 = speed_percent2;
#line 1782
        brake9 = brake3;
#line 1783
        if (n7 < 3UL) {
#line 1784
          io_to_avr.output_percent[n7] = (S8___0 )power_percent8;
#line 1785
          if (brake9) {
#line 1786
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n7));
          } else {
#line 1788
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n7));
          }
        }
#line 1791
        goto Lret_nxt_avr_set_motor;
        Lret_nxt_avr_set_motor: ;
      }
#line 1794
      goto Lret_nxt_motor_set_speed;
      Lret_nxt_motor_set_speed: 
#line 1796
      n4 = (U32___4 )2;
#line 1797
      speed_percent5 = 0;
#line 1798
      brake6 = 1;
#line 1799
      if (n4 < 3UL) {
#line 1800
        if (speed_percent5 > 100) {
#line 1801
          speed_percent5 = 100;
        }
#line 1803
        if (speed_percent5 < -100) {
#line 1804
          speed_percent5 = -100;
        }
#line 1806
        motor[n4].speed_percent = speed_percent5;
#line 1807
        n10 = n4;
#line 1808
        power_percent11 = speed_percent5;
#line 1809
        brake12 = brake6;
#line 1810
        if (n10 < 3UL) {
#line 1811
          io_to_avr.output_percent[n10] = (S8___0 )power_percent11;
#line 1812
          if (brake12) {
#line 1813
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n10));
          } else {
#line 1815
            io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n10));
          }
        }
#line 1818
        goto Lret_nxt_avr_set_motor___0;
        Lret_nxt_avr_set_motor___0: ;
      }
#line 1821
      goto Lret_nxt_motor_set_speed___0;
      Lret_nxt_motor_set_speed___0: ;
    } else
#line 1824
    if (Brake == 2) {
#line 1825
      if (Current_speed == Speed_H) {
#line 1826
        if (Motor_Run == 1) {
#line 1827
          Slow_brake = Speed_H * 2;
        } else {
#line 1829
          goto _L;
        }
      } else
      _L: 
#line 1833
      if (Current_speed == Speed_L) {
#line 1834
        if (Motor_Run == 1) {
#line 1835
          Slow_brake = Speed_L * 2;
        }
      }
#line 1838
      Motor_Run = 0;
    }
#line 1840
    ReleaseResource(R1);
  }
#line 1842
  TerminateTask();
#line 1844
  return;
}
}
#line 1845 "follower/follower.c"
void TaskMainSonarSensing(void) 
{ 
  int temp ;
  S32___1 tmp ;
  int temp1 ;
  S32___1 tmp___0 ;
  U8___2 port_id5 ;
  int tmp6 ;
  long ret_ecrobot_get_sonar_sensor7 ;
  U8___2 port_id8 ;
  int tmp9 ;
  long ret_ecrobot_get_sonar_sensor10 ;
  int port11 ;
  int ret_i2c_busy12 ;
  int port13 ;
  int ret_i2c_busy14 ;
  int port15 ;
  U32___0 address16 ;
  int internal_address17 ;
  int n_internal_address_bytes18 ;
  U8___0 *data19 ;
  U32___0 nbytes20 ;
  int write21 ;
  struct i2c_port_struct *p22 ;
  struct i2c_partial_transaction *pt23 ;
  int tmp24 ;
  int tmp___025 ;
  int port1226 ;
  int ret_i2c_busy1327 ;
  int port28 ;
  U32___0 address29 ;
  int internal_address30 ;
  int n_internal_address_bytes31 ;
  U8___0 *data32 ;
  U32___0 nbytes33 ;
  int write34 ;
  struct i2c_port_struct *p35 ;
  struct i2c_partial_transaction *pt36 ;
  int tmp37 ;
  int tmp___038 ;
  int port1239 ;
  int ret_i2c_busy1340 ;

  {
#line 1889
  if (Active_Only_One_Sonar == 0) {
#line 1890
    temp = 0;
#line 1891
    port_id5 = (U8___3 )1;
#line 1892
    port11 = (int )port_id5;
#line 1893
    if (port11 >= 0) {
#line 1894
      if (port11 < 4) {
#line 1895
        ret_i2c_busy12 = (unsigned int )i2c_port[port11].state > 1U;
#line 1896
        goto Lret_i2c_busy;
      }
    }
#line 1899
    ret_i2c_busy12 = 0;
#line 1900
    goto Lret_i2c_busy;
    Lret_i2c_busy: 
#line 1902
    tmp6 = ret_i2c_busy12;
#line 1903
    if (tmp6 == 0) {
#line 1904
      distance_state[port_id5] = (S32___0 )data[port_id5];
#line 1905
      port15 = (int )port_id5;
#line 1906
      address16 = (U32___3 )1;
#line 1907
      internal_address17 = 66;
#line 1908
      n_internal_address_bytes18 = 1;
#line 1909
      data19 = & data[port_id5];
#line 1910
      nbytes20 = (U32___3 )1;
#line 1911
      write21 = 0;
#line 1912
      if (port15 < 0) {
#line 1913
        goto Lret_i2c_start_transaction;
      } else
#line 1915
      if (port15 >= 4) {
#line 1916
        goto Lret_i2c_start_transaction;
      }
#line 1918
      port1226 = port15;
#line 1919
      if (port1226 >= 0) {
#line 1920
        if (port1226 < 4) {
#line 1921
          ret_i2c_busy1327 = (unsigned int )i2c_port[port1226].state > 1U;
#line 1922
          goto Lret_i2c_busy___1;
        }
      }
#line 1925
      ret_i2c_busy1327 = 0;
#line 1926
      goto Lret_i2c_busy___1;
      Lret_i2c_busy___1: 
#line 1928
      tmp24 = ret_i2c_busy1327;
#line 1929
      if (tmp24) {
#line 1930
        goto Lret_i2c_start_transaction;
      }
#line 1932
      p22 = & i2c_port[port15];
#line 1933
      p22->pt_num = (U32___0 )0;
#line 1934
      p22->pt_begun = (U32___0 )0;
#line 1935
      pt23 = p22->partial_transaction;
#line 1936
      p22->current_pt = pt23;
#line 1937
      memset((void *)pt23, 0, sizeof(p22->partial_transaction));
#line 1938
      if (n_internal_address_bytes18 > 0) {
#line 1939
        p22->addr_int[0] = (U8___0 )(address16 << 1);
#line 1940
        p22->addr_int[1] = (U8___0 )internal_address17;
#line 1941
        pt23->start = (U8___0 )1;
#line 1942
        if (write21) {
#line 1943
          pt23->stop = (U8___0 )0;
        } else {
#line 1945
          pt23->stop = (U8___0 )1;
        }
#line 1947
        pt23->tx = (U8___0 )1;
#line 1948
        pt23->data = p22->addr_int;
#line 1949
        pt23->nbytes = (U16___0 )2;
#line 1950
        pt23 ++;
      }
#line 1952
      if (n_internal_address_bytes18 == 0) {
#line 1953
        goto _L;
      } else
#line 1955
      if (! write21) {
        _L: 
#line 1957
        if (n_internal_address_bytes18 > 0) {
#line 1958
          pt23->start = (U8___0 )0;
        } else {
#line 1960
          pt23->start = (U8___0 )1;
        }
#line 1962
        pt23->restart = (U8___0 )(! pt23->start);
#line 1963
        pt23->stop = (U8___0 )0;
#line 1964
        pt23->tx = (U8___0 )1;
#line 1965
        if (write21) {
#line 1966
          tmp___025 = 0;
        } else {
#line 1968
          tmp___025 = 1;
        }
#line 1970
        p22->addr = (U8___0 )((address16 << 1) | (unsigned long )tmp___025);
#line 1971
        pt23->data = & p22->addr;
#line 1972
        pt23->nbytes = (U16___0 )1;
#line 1973
        pt23 ++;
      }
#line 1975
      pt23->start = (U8___0 )0;
#line 1976
      pt23->stop = (U8___0 )1;
#line 1977
      if (write21) {
#line 1978
        pt23->tx = (U8___0 )1;
      } else {
#line 1980
        pt23->tx = (U8___0 )0;
      }
#line 1982
      pt23->data = data19;
#line 1983
      pt23->nbytes = (U16___0 )nbytes20;
#line 1984
      pt23->last_pt = (U8___0 )1;
#line 1985
      p22->state = (i2c_port_state )2;
#line 1986
      goto Lret_i2c_start_transaction;
      Lret_i2c_start_transaction: ;
    }
#line 1989
    ret_ecrobot_get_sonar_sensor7 = distance_state[port_id5];
#line 1990
    goto Lret_ecrobot_get_sonar_sensor;
    Lret_ecrobot_get_sonar_sensor: 
#line 1992
    tmp = ret_ecrobot_get_sonar_sensor7;
#line 1993
    temp = (int )tmp;
#line 1994
    if (temp < 50) {
#line 1995
      if (temp > 1) {
#line 1996
        if (Sonar_1 == temp) {
#line 1997
          if (temp != 0) {
#line 1998
            Sonar_Check_1 --;
#line 1999
            if (Sonar_Check_1 == 0) {
#line 2000
              Actual_Sonar_Num_1 = temp;
#line 2001
              Sonar_Check_1 = 1;
            }
          } else {
#line 2004
            Sonar_1 = temp;
#line 2005
            Sonar_Check_1 = 2;
          }
        } else {
#line 2008
          Sonar_1 = temp;
#line 2009
          Sonar_Check_1 = 2;
        }
      } else {
#line 2012
        Actual_Sonar_Num_1 = 100;
      }
    } else {
#line 2015
      Actual_Sonar_Num_1 = 100;
    }
  } else
#line 2018
  if (Active_Only_One_Sonar == 1) {
#line 2019
    temp1 = 0;
#line 2020
    port_id8 = (U8___3 )2;
#line 2021
    port13 = (int )port_id8;
#line 2022
    if (port13 >= 0) {
#line 2023
      if (port13 < 4) {
#line 2024
        ret_i2c_busy14 = (unsigned int )i2c_port[port13].state > 1U;
#line 2025
        goto Lret_i2c_busy___0;
      }
    }
#line 2028
    ret_i2c_busy14 = 0;
#line 2029
    goto Lret_i2c_busy___0;
    Lret_i2c_busy___0: 
#line 2031
    tmp9 = ret_i2c_busy14;
#line 2032
    if (tmp9 == 0) {
#line 2033
      distance_state[port_id8] = (S32___0 )data[port_id8];
#line 2034
      port28 = (int )port_id8;
#line 2035
      address29 = (U32___3 )1;
#line 2036
      internal_address30 = 66;
#line 2037
      n_internal_address_bytes31 = 1;
#line 2038
      data32 = & data[port_id8];
#line 2039
      nbytes33 = (U32___3 )1;
#line 2040
      write34 = 0;
#line 2041
      if (port28 < 0) {
#line 2042
        goto Lret_i2c_start_transaction___0;
      } else
#line 2044
      if (port28 >= 4) {
#line 2045
        goto Lret_i2c_start_transaction___0;
      }
#line 2047
      port1239 = port28;
#line 2048
      if (port1239 >= 0) {
#line 2049
        if (port1239 < 4) {
#line 2050
          ret_i2c_busy1340 = (unsigned int )i2c_port[port1239].state > 1U;
#line 2051
          goto Lret_i2c_busy___2;
        }
      }
#line 2054
      ret_i2c_busy1340 = 0;
#line 2055
      goto Lret_i2c_busy___2;
      Lret_i2c_busy___2: 
#line 2057
      tmp37 = ret_i2c_busy1340;
#line 2058
      if (tmp37) {
#line 2059
        goto Lret_i2c_start_transaction___0;
      }
#line 2061
      p35 = & i2c_port[port28];
#line 2062
      p35->pt_num = (U32___0 )0;
#line 2063
      p35->pt_begun = (U32___0 )0;
#line 2064
      pt36 = p35->partial_transaction;
#line 2065
      p35->current_pt = pt36;
#line 2066
      memset((void *)pt36, 0, sizeof(p35->partial_transaction));
#line 2067
      if (n_internal_address_bytes31 > 0) {
#line 2068
        p35->addr_int[0] = (U8___0 )(address29 << 1);
#line 2069
        p35->addr_int[1] = (U8___0 )internal_address30;
#line 2070
        pt36->start = (U8___0 )1;
#line 2071
        if (write34) {
#line 2072
          pt36->stop = (U8___0 )0;
        } else {
#line 2074
          pt36->stop = (U8___0 )1;
        }
#line 2076
        pt36->tx = (U8___0 )1;
#line 2077
        pt36->data = p35->addr_int;
#line 2078
        pt36->nbytes = (U16___0 )2;
#line 2079
        pt36 ++;
      }
#line 2081
      if (n_internal_address_bytes31 == 0) {
#line 2082
        goto _L___0;
      } else
#line 2084
      if (! write34) {
        _L___0: 
#line 2086
        if (n_internal_address_bytes31 > 0) {
#line 2087
          pt36->start = (U8___0 )0;
        } else {
#line 2089
          pt36->start = (U8___0 )1;
        }
#line 2091
        pt36->restart = (U8___0 )(! pt36->start);
#line 2092
        pt36->stop = (U8___0 )0;
#line 2093
        pt36->tx = (U8___0 )1;
#line 2094
        if (write34) {
#line 2095
          tmp___038 = 0;
        } else {
#line 2097
          tmp___038 = 1;
        }
#line 2099
        p35->addr = (U8___0 )((address29 << 1) | (unsigned long )tmp___038);
#line 2100
        pt36->data = & p35->addr;
#line 2101
        pt36->nbytes = (U16___0 )1;
#line 2102
        pt36 ++;
      }
#line 2104
      pt36->start = (U8___0 )0;
#line 2105
      pt36->stop = (U8___0 )1;
#line 2106
      if (write34) {
#line 2107
        pt36->tx = (U8___0 )1;
      } else {
#line 2109
        pt36->tx = (U8___0 )0;
      }
#line 2111
      pt36->data = data32;
#line 2112
      pt36->nbytes = (U16___0 )nbytes33;
#line 2113
      pt36->last_pt = (U8___0 )1;
#line 2114
      p35->state = (i2c_port_state )2;
#line 2115
      goto Lret_i2c_start_transaction___0;
      Lret_i2c_start_transaction___0: ;
    }
#line 2118
    ret_ecrobot_get_sonar_sensor10 = distance_state[port_id8];
#line 2119
    goto Lret_ecrobot_get_sonar_sensor___0;
    Lret_ecrobot_get_sonar_sensor___0: 
#line 2121
    tmp___0 = ret_ecrobot_get_sonar_sensor10;
#line 2122
    temp1 = (int )tmp___0;
#line 2123
    if (temp1 < 50) {
#line 2124
      if (temp1 > 1) {
#line 2125
        if (Sonar_2 == temp1) {
#line 2126
          if (temp1 != 0) {
#line 2127
            Sonar_check_2 --;
#line 2128
            if (Sonar_check_2 == 0) {
#line 2129
              Actual_Sonar_Num_2 = temp1;
#line 2130
              Sonar_check_2 = 1;
            }
          } else {
#line 2133
            Sonar_2 = temp1;
#line 2134
            Sonar_check_2 = 2;
          }
        } else {
#line 2137
          Sonar_2 = temp1;
#line 2138
          Sonar_check_2 = 2;
        }
      } else {
#line 2141
        Actual_Sonar_Num_2 = 100;
      }
    } else {
#line 2144
      Actual_Sonar_Num_2 = 100;
    }
  }
#line 2147
  if (Active_Only_One_Sonar == 0) {
#line 2148
    Active_Only_One_Sonar = 1;
  } else
#line 2150
  if (Active_Only_One_Sonar == 1) {
#line 2151
    Active_Only_One_Sonar = 0;
  }
#line 2153
  TerminateTask();
#line 2154
  return;
}
}
#line 2157
void TaskMainIdleTask(void) ;
#line 2158 "follower/follower.c"
static SINT___0 bt_status___0  =    4;
#line 2159 "follower/follower.c"
void TaskMainIdleTask(void) 
{ 
  SINT___0 tmp ;
  char const   *pin2 ;
  char const   *str3 ;
  int c4 ;
  int i5 ;
  U8 *b6 ;
  U8 const   *f7 ;
  U32 updateToo8 ;
  int x9 ;
  int y10 ;

  {
#line 2173
  while (true) {
#line 2174
    pin2 = "LEJOS-DONGHYUN";
#line 2175
    connect_bt_slave(pin2);
#line 2176
    open_bt_stream();
#line 2177
    goto Lret_ecrobot_init_bt_slave;
    Lret_ecrobot_init_bt_slave: 
#line 2179
    tmp = ecrobot_get_bt_status();
#line 2180
    if (tmp == 7) {
#line 2181
      if (bt_status___0 != 7) {
#line 2182
        updateToo8 = (U32___4 )0;
#line 2183
        if (updateToo8) {
#line 2184
          display_tick = 0;
#line 2185
          nxt_lcd_update();
#line 2186
          goto Lret_display_update;
          Lret_display_update: ;
        }
#line 2189
        goto Lret_display_clear;
        Lret_display_clear: 
#line 2191
        x9 = 0;
#line 2192
        y10 = 0;
#line 2193
        display_x = x9;
#line 2194
        display_y = y10;
#line 2195
        goto Lret_display_goto_xy;
        Lret_display_goto_xy: 
#line 2197
        str3 = "[BT]";
#line 2198
        while (*str3) {
#line 2199
          if ((int const   )*str3 != 10) {
#line 2200
            c4 = (int )*str3;
#line 2201
            if (c4 >= 0) {
#line 2202
              if (c4 < 128) {
#line 2203
                if (display_x >= 0) {
#line 2204
                  if (display_x < 16) {
#line 2205
                    if (display_y >= 0) {
#line 2206
                      if (display_y < 8) {
#line 2207
                        b6 = & (*(display_buffer + display_y))[display_x * 6];
#line 2208
                        f7 = font[c4];
#line 2209
                        i5 = 0;
#line 2210
                        while (i5 < 5) {
#line 2211
                          *b6 = (U8 )*f7;
#line 2212
                          b6 ++;
#line 2213
                          f7 ++;
#line 2214
                          i5 ++;
                        }
                      }
                    }
                  }
                }
              }
            }
#line 2222
            goto Lret_display_char;
            Lret_display_char: 
#line 2224
            display_x ++;
          } else {
#line 2226
            display_x = 0;
#line 2227
            display_y ++;
          }
#line 2229
          str3 ++;
        }
#line 2231
        goto Lret_display_string;
        Lret_display_string: 
#line 2233
        display_tick = 0;
#line 2234
        nxt_lcd_update();
#line 2235
        goto Lret_display_update___0;
        Lret_display_update___0: ;
      }
    }
#line 2239
    bt_status___0 = ecrobot_get_bt_status();
  }
#line 2242
  return;
}
}
#line 2401
extern int create_task() ;
#line 2402
extern int create_block() ;
#line 2403 "follower/follower.c"
void main(void) 
{ 


  {
#line 2408
  create_task("TaskMainSonarSensing", "TaskMainSonarSensing", 5, 500, 0.045);
#line 2409
  create_task("TaskMainEventDispatcher", "TaskMainEventDispatcher", 4, 5, 0.097);
#line 2410
  create_task("TaskMainInitialize", "TaskMainInitialize", 6, 4, 0.048);
#line 2411
  create_task("TaskMainSpeedTask", "TaskMainSpeedTask", 7, 4, 0.14);
#line 2412
  create_task("TaskMainBrakeTask", "TaskMainBrakeTask", 8, 4, 0.028);
#line 2413
  create_task("TaskMainEventHandler", "TaskMainEventHandler", 3, 10, 0.014);
#line 2414
  create_task("TaskMainIdleTask", "TaskMainIdleTask", 1, 200, 0.014);
#line 2416
  create_block(1196, "TaskMainInitialize", "R1", 1, 6, 0.048);
#line 2417
  create_block(1735, "TaskMainSpeedTask", "R1", 1, 7, 0.011);
#line 2418
  create_block(1767, "TaskMainBrakeTask", "R1", 1, 8, 0.022);
#line 2421
  return;
}
}
