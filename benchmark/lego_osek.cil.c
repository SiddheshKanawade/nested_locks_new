/* Generated by CIL v. 1.7.3 */
/* print_CIL_Input is true */

#line 4 "lego_osek/lego_osek.c"
typedef int _boolean;
#line 5 "lego_osek/lego_osek.c"
typedef unsigned char UINT8;
#line 6 "lego_osek/lego_osek.c"
typedef unsigned char U8;
#line 7 "lego_osek/lego_osek.c"
typedef UINT8 ResourceType;
#line 8 "lego_osek/lego_osek.c"
typedef UINT8 StatusType;
#line 9 "lego_osek/lego_osek.c"
typedef unsigned char U8___1;
#line 10 "lego_osek/lego_osek.c"
typedef signed char S8___0;
#line 11 "lego_osek/lego_osek.c"
typedef unsigned short U16___1;
#line 12 "lego_osek/lego_osek.c"
typedef unsigned long U32___1;
#line 13 "lego_osek/lego_osek.c"
struct __anonstruct_to_avr_432250394 {
   U8___1 power ;
   U8___1 pwm_frequency ;
   S8___0 output_percent[4] ;
   U8___1 output_mode ;
   U8___1 input_power ;
} __attribute__((__packed__)) ;
#line 20 "lego_osek/lego_osek.c"
typedef struct __anonstruct_to_avr_432250394 to_avr;
#line 21 "lego_osek/lego_osek.c"
struct __anonstruct_from_avr_708559676 {
   U16___1 adc_value[4] ;
   U16___1 buttonsVal ;
   U16___1 extra ;
   U8___1 csum ;
} __attribute__((__packed__)) ;
#line 27 "lego_osek/lego_osek.c"
typedef struct __anonstruct_from_avr_708559676 from_avr;
#line 28
struct motor_struct ;
#line 29 "lego_osek/lego_osek.c"
typedef unsigned char byte;
#line 30 "lego_osek/lego_osek.c"
typedef unsigned short TWOBYTES;
#line 31 "lego_osek/lego_osek.c"
struct _freeBlock {
   TWOBYTES size : 15 ;
   TWOBYTES isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 35 "lego_osek/lego_osek.c"
struct _objects {
   byte _class ;
   byte padding : 5 ;
   byte mark : 1 ;
   byte isArray : 1 ;
   byte isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 42 "lego_osek/lego_osek.c"
struct _arrays {
   TWOBYTES length : 9 ;
   TWOBYTES type : 4 ;
   TWOBYTES mark : 1 ;
   TWOBYTES isArray : 1 ;
   TWOBYTES isAllocated : 1 ;
} __attribute__((__packed__)) ;
#line 49 "lego_osek/lego_osek.c"
union _flags {
   TWOBYTES all ;
   struct _freeBlock freeBlock ;
   struct _objects objects ;
   struct _arrays arrays ;
} __attribute__((__packed__)) ;
#line 55 "lego_osek/lego_osek.c"
struct S_Object {
   union _flags flags ;
   byte monitorCount ;
   byte threadId ;
} __attribute__((__packed__)) ;
#line 60 "lego_osek/lego_osek.c"
typedef struct S_Object Object;
#line 61 "lego_osek/lego_osek.c"
struct __anonstruct_display_array_740464799 {
   Object hdr ;
   U8 display[9][100] ;
} __attribute__((__packed__)) ;
#line 65 "lego_osek/lego_osek.c"
typedef double _real;
#line 66 "lego_osek/lego_osek.c"
struct __anonstruct_motor_control_ctx_982217023 {
   _real _Cg ;
   _real _Cd ;
   _real _u_d ;
   _real _u_g ;
   _real M22 ;
   _boolean M22_nil ;
   _boolean M19 ;
};
#line 75 "lego_osek/lego_osek.c"
typedef struct __anonstruct_motor_control_ctx_982217023 motor_control_ctx;
#line 76 "lego_osek/lego_osek.c"
typedef int _boolean___0;
#line 77 "lego_osek/lego_osek.c"
typedef double _real___0;
#line 78 "lego_osek/lego_osek.c"
struct __anonstruct_obst_detector_ctx_475692995 {
   _real___0 _Co ;
   _real___0 _Cg ;
   _boolean___0 _obstacle ;
   _boolean___0 M13 ;
   _boolean___0 M13_nil ;
   _boolean___0 M32 ;
   _boolean___0 M32_nil ;
   _boolean___0 M27 ;
   _boolean___0 M27_nil ;
   _boolean___0 M20 ;
   _boolean___0 M20_nil ;
   _boolean___0 M10 ;
   _boolean___0 M10_nil ;
   _boolean___0 M7 ;
};
#line 94 "lego_osek/lego_osek.c"
typedef struct __anonstruct_obst_detector_ctx_475692995 obst_detector_ctx;
#line 95 "lego_osek/lego_osek.c"
typedef unsigned char U8___2;
#line 96 "lego_osek/lego_osek.c"
typedef unsigned long U32;
#line 97 "lego_osek/lego_osek.c"
typedef unsigned int AT91_REG;
#line 98 "lego_osek/lego_osek.c"
typedef unsigned char U8___0;
#line 99 "lego_osek/lego_osek.c"
typedef unsigned short U16___0;
#line 100 "lego_osek/lego_osek.c"
typedef unsigned long U32___0;
#line 101 "lego_osek/lego_osek.c"
struct i2c_partial_transaction {
   U8___0 start : 1 ;
   U8___0 restart : 1 ;
   U8___0 stop : 1 ;
   U8___0 tx : 1 ;
   U8___0 last_pt : 1 ;
   U16___0 nbytes ;
   U8___0 *data ;
};
#line 110
enum __anonenum_i2c_port_state_506411302 {
    I2C_UNINITIALISED = 0,
    I2C_IDLE = 1,
    I2C_BEGIN = 2,
    I2C_RESTART1 = 3,
    I2C_START1 = 4,
    I2C_START2 = 5,
    I2C_START3 = 6,
    I2C_START_RECLOCK1 = 7,
    I2C_LOW0 = 8,
    I2C_LOW1 = 9,
    I2C_HIGH0 = 10,
    I2C_HIGH1 = 11,
    I2C_STOP0 = 12,
    I2C_STOP1 = 13,
    I2C_STOP2 = 14,
    I2C_STOP3 = 15
} ;
#line 128 "lego_osek/lego_osek.c"
typedef enum __anonenum_i2c_port_state_506411302 i2c_port_state;
#line 129 "lego_osek/lego_osek.c"
struct i2c_port_struct {
   U32___0 scl_pin ;
   U32___0 sda_pin ;
   U8___0 addr_int[2] ;
   U8___0 addr ;
   struct i2c_partial_transaction partial_transaction[3] ;
   struct i2c_partial_transaction *current_pt ;
   i2c_port_state state ;
   U32___0 nbits ;
   U32___0 ack_slot ;
   U32___0 ack_slot_pending ;
   U8___0 *data ;
   U32___0 transmitting ;
   U32___0 fault ;
   U32___0 n_fault ;
   U32___0 n_good ;
   U32___0 ack_fail ;
   U32___0 ack_good ;
   U32___0 pt_num ;
   U32___0 pt_begun ;
};
#line 150 "lego_osek/lego_osek.c"
typedef unsigned long U32___2;
#line 151 "lego_osek/lego_osek.c"
struct motor_struct {
   int current_count ;
   int target_count ;
   int speed_percent ;
   U32___2 last ;
};
#line 157 "lego_osek/lego_osek.c"
typedef unsigned char U8___3;
#line 158 "lego_osek/lego_osek.c"
typedef signed char S8___1;
#line 159 "lego_osek/lego_osek.c"
typedef unsigned short U16___2;
#line 160 "lego_osek/lego_osek.c"
typedef unsigned long U32___3;
#line 161 "lego_osek/lego_osek.c"
typedef long S32___0;
#line 162 "lego_osek/lego_osek.c"
typedef unsigned long size_t___1;
#line 163 "lego_osek/lego_osek.c"
typedef double _real___1;
#line 164 "lego_osek/lego_osek.c"
typedef unsigned short U16___3;
#line 165 "lego_osek/lego_osek.c"
typedef unsigned long U32___4;
#line 166 "lego_osek/lego_osek.c"
typedef double _real___2;
#line 167 "lego_osek/lego_osek.c"
typedef float _float___0;
#line 168 "lego_osek/lego_osek.c"
static _boolean multi_task_obst  ;
#line 169
extern ResourceType lcd ;
#line 170
extern StatusType GetResource(ResourceType resid ) ;
#line 171
extern StatusType ReleaseResource(ResourceType resid ) ;
#line 172 "lego_osek/lego_osek.c"
static to_avr io_to_avr  ;
#line 173 "lego_osek/lego_osek.c"
static int display_x  ;
#line 174 "lego_osek/lego_osek.c"
static int display_y  ;
#line 175
int display_tick ;
#line 176 "lego_osek/lego_osek.c"
U8 const   *display  =    (U8 const   *)((U8 *)0);
#line 177 "lego_osek/lego_osek.c"
unsigned char volatile   dirty  =    (U8 volatile   )0;
#line 178 "lego_osek/lego_osek.c"
static struct motor_struct motor[3]  ;
#line 179 "lego_osek/lego_osek.c"
static struct __anonstruct_display_array_740464799 display_array  ;
#line 180 "lego_osek/lego_osek.c"
static U8 (*display_buffer)[100]  =    display_array.display;
#line 181 "lego_osek/lego_osek.c"
static U8 const   font[128][5]  = 
#line 181
  { {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )85,        (U8 const   )97,        (U8 const   )85, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )107,        (U8 const   )95,        (U8 const   )107, 
            (U8 const   )62}, 
   {        (U8 const   )12,        (U8 const   )30,        (U8 const   )60,        (U8 const   )30, 
            (U8 const   )12}, 
   {        (U8 const   )8,        (U8 const   )28,        (U8 const   )62,        (U8 const   )28, 
            (U8 const   )8}, 
   {        (U8 const   )24,        (U8 const   )94,        (U8 const   )126,        (U8 const   )94, 
            (U8 const   )24}, 
   {        (U8 const   )24,        (U8 const   )92,        (U8 const   )126,        (U8 const   )92, 
            (U8 const   )24}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )0,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )95,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )7,        (U8 const   )0,        (U8 const   )7, 
            (U8 const   )0}, 
   {        (U8 const   )20,        (U8 const   )62,        (U8 const   )20,        (U8 const   )62, 
            (U8 const   )20}, 
   {        (U8 const   )4,        (U8 const   )42,        (U8 const   )127,        (U8 const   )42, 
            (U8 const   )16}, 
   {        (U8 const   )38,        (U8 const   )22,        (U8 const   )8,        (U8 const   )52, 
            (U8 const   )50}, 
   {        (U8 const   )54,        (U8 const   )73,        (U8 const   )89,        (U8 const   )38, 
            (U8 const   )80}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )7,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )28,        (U8 const   )34,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )34,        (U8 const   )28, 
            (U8 const   )0}, 
   {        (U8 const   )42,        (U8 const   )28,        (U8 const   )127,        (U8 const   )28, 
            (U8 const   )42}, 
   {        (U8 const   )8,        (U8 const   )8,        (U8 const   )62,        (U8 const   )8, 
            (U8 const   )8}, 
   {        (U8 const   )0,        (U8 const   )80,        (U8 const   )48,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )8,        (U8 const   )8,        (U8 const   )8,        (U8 const   )8, 
            (U8 const   )8}, 
   {        (U8 const   )0,        (U8 const   )96,        (U8 const   )96,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )16,        (U8 const   )8,        (U8 const   )4, 
            (U8 const   )2}, 
   {        (U8 const   )62,        (U8 const   )81,        (U8 const   )73,        (U8 const   )69, 
            (U8 const   )62}, 
   {        (U8 const   )0,        (U8 const   )66,        (U8 const   )127,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )66,        (U8 const   )97,        (U8 const   )81,        (U8 const   )73, 
            (U8 const   )70}, 
   {        (U8 const   )33,        (U8 const   )65,        (U8 const   )69,        (U8 const   )75, 
            (U8 const   )49}, 
   {        (U8 const   )24,        (U8 const   )20,        (U8 const   )18,        (U8 const   )127, 
            (U8 const   )16}, 
   {        (U8 const   )39,        (U8 const   )69,        (U8 const   )69,        (U8 const   )69, 
            (U8 const   )57}, 
   {        (U8 const   )60,        (U8 const   )74,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )48}, 
   {        (U8 const   )1,        (U8 const   )1,        (U8 const   )121,        (U8 const   )5, 
            (U8 const   )3}, 
   {        (U8 const   )54,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )54}, 
   {        (U8 const   )6,        (U8 const   )73,        (U8 const   )73,        (U8 const   )41, 
            (U8 const   )30}, 
   {        (U8 const   )0,        (U8 const   )54,        (U8 const   )54,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )86,        (U8 const   )54,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )8,        (U8 const   )20,        (U8 const   )34,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )20,        (U8 const   )20,        (U8 const   )20,        (U8 const   )20, 
            (U8 const   )20}, 
   {        (U8 const   )65,        (U8 const   )34,        (U8 const   )20,        (U8 const   )8, 
            (U8 const   )0}, 
   {        (U8 const   )2,        (U8 const   )1,        (U8 const   )89,        (U8 const   )5, 
            (U8 const   )2}, 
   {        (U8 const   )28,        (U8 const   )42,        (U8 const   )54,        (U8 const   )62, 
            (U8 const   )12}, 
   {        (U8 const   )126,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )126}, 
   {        (U8 const   )127,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )62}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )34}, 
   {        (U8 const   )127,        (U8 const   )65,        (U8 const   )65,        (U8 const   )34, 
            (U8 const   )28}, 
   {        (U8 const   )127,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )65}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )1}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )73, 
            (U8 const   )58}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )8,        (U8 const   )8, 
            (U8 const   )127}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )127,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )64,        (U8 const   )65,        (U8 const   )63, 
            (U8 const   )1}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )20,        (U8 const   )34, 
            (U8 const   )65}, 
   {        (U8 const   )127,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )64}, 
   {        (U8 const   )127,        (U8 const   )2,        (U8 const   )4,        (U8 const   )2, 
            (U8 const   )127}, 
   {        (U8 const   )127,        (U8 const   )4,        (U8 const   )8,        (U8 const   )16, 
            (U8 const   )127}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )62}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )6}, 
   {        (U8 const   )62,        (U8 const   )65,        (U8 const   )81,        (U8 const   )33, 
            (U8 const   )94}, 
   {        (U8 const   )127,        (U8 const   )9,        (U8 const   )25,        (U8 const   )41, 
            (U8 const   )70}, 
   {        (U8 const   )38,        (U8 const   )73,        (U8 const   )73,        (U8 const   )73, 
            (U8 const   )50}, 
   {        (U8 const   )1,        (U8 const   )1,        (U8 const   )127,        (U8 const   )1, 
            (U8 const   )1}, 
   {        (U8 const   )63,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )63}, 
   {        (U8 const   )31,        (U8 const   )32,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )31}, 
   {        (U8 const   )127,        (U8 const   )32,        (U8 const   )24,        (U8 const   )32, 
            (U8 const   )127}, 
   {        (U8 const   )99,        (U8 const   )20,        (U8 const   )8,        (U8 const   )20, 
            (U8 const   )99}, 
   {        (U8 const   )3,        (U8 const   )4,        (U8 const   )120,        (U8 const   )4, 
            (U8 const   )3}, 
   {        (U8 const   )97,        (U8 const   )81,        (U8 const   )73,        (U8 const   )69, 
            (U8 const   )67}, 
   {        (U8 const   )0,        (U8 const   )127,        (U8 const   )65,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )2,        (U8 const   )4,        (U8 const   )8,        (U8 const   )16, 
            (U8 const   )32}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )65,        (U8 const   )127, 
            (U8 const   )0}, 
   {        (U8 const   )4,        (U8 const   )2,        (U8 const   )1,        (U8 const   )2, 
            (U8 const   )4}, 
   {        (U8 const   )64,        (U8 const   )64,        (U8 const   )64,        (U8 const   )64, 
            (U8 const   )64}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )7,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )120}, 
   {        (U8 const   )127,        (U8 const   )72,        (U8 const   )68,        (U8 const   )68, 
            (U8 const   )56}, 
   {        (U8 const   )48,        (U8 const   )72,        (U8 const   )72,        (U8 const   )72, 
            (U8 const   )32}, 
   {        (U8 const   )56,        (U8 const   )68,        (U8 const   )68,        (U8 const   )72, 
            (U8 const   )127}, 
   {        (U8 const   )56,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )24}, 
   {        (U8 const   )8,        (U8 const   )126,        (U8 const   )9,        (U8 const   )9, 
            (U8 const   )2}, 
   {        (U8 const   )12,        (U8 const   )82,        (U8 const   )82,        (U8 const   )82, 
            (U8 const   )62}, 
   {        (U8 const   )127,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )0,        (U8 const   )68,        (U8 const   )125,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )32,        (U8 const   )64,        (U8 const   )64,        (U8 const   )61, 
            (U8 const   )0}, 
   {        (U8 const   )127,        (U8 const   )16,        (U8 const   )40,        (U8 const   )68, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )127,        (U8 const   )64, 
            (U8 const   )0}, 
   {        (U8 const   )124,        (U8 const   )4,        (U8 const   )24,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )124,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )120}, 
   {        (U8 const   )56,        (U8 const   )68,        (U8 const   )68,        (U8 const   )68, 
            (U8 const   )56}, 
   {        (U8 const   )252,        (U8 const   )20,        (U8 const   )20,        (U8 const   )20, 
            (U8 const   )8}, 
   {        (U8 const   )8,        (U8 const   )20,        (U8 const   )20,        (U8 const   )24, 
            (U8 const   )124}, 
   {        (U8 const   )124,        (U8 const   )8,        (U8 const   )4,        (U8 const   )4, 
            (U8 const   )8}, 
   {        (U8 const   )72,        (U8 const   )84,        (U8 const   )84,        (U8 const   )84, 
            (U8 const   )32}, 
   {        (U8 const   )4,        (U8 const   )63,        (U8 const   )68,        (U8 const   )64, 
            (U8 const   )32}, 
   {        (U8 const   )60,        (U8 const   )64,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )124}, 
   {        (U8 const   )28,        (U8 const   )32,        (U8 const   )64,        (U8 const   )32, 
            (U8 const   )28}, 
   {        (U8 const   )60,        (U8 const   )64,        (U8 const   )56,        (U8 const   )64, 
            (U8 const   )60}, 
   {        (U8 const   )68,        (U8 const   )40,        (U8 const   )16,        (U8 const   )40, 
            (U8 const   )68}, 
   {        (U8 const   )12,        (U8 const   )80,        (U8 const   )80,        (U8 const   )80, 
            (U8 const   )60}, 
   {        (U8 const   )68,        (U8 const   )100,        (U8 const   )84,        (U8 const   )76, 
            (U8 const   )68}, 
   {        (U8 const   )0,        (U8 const   )8,        (U8 const   )54,        (U8 const   )65, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )0,        (U8 const   )127,        (U8 const   )0, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )65,        (U8 const   )54,        (U8 const   )8, 
            (U8 const   )0}, 
   {        (U8 const   )0,        (U8 const   )7,        (U8 const   )0,        (U8 const   )7, 
            (U8 const   )0}, 
   {        (U8 const   )62,        (U8 const   )54,        (U8 const   )42,        (U8 const   )54, 
            (U8 const   )62}};
#line 438 "lego_osek/lego_osek.c"
static motor_control_ctx ctx  ;
#line 439
extern void motor_control_O_u_d(double ud ) ;
#line 440
extern void motor_control_O_u_g(double ug ) ;
#line 441 "lego_osek/lego_osek.c"
static obst_detector_ctx ctx_obst  ;
#line 442
int display_auto_update ;
#line 443 "lego_osek/lego_osek.c"
unsigned char volatile   page  =    (U8___2 volatile   )0;
#line 444 "lego_osek/lego_osek.c"
U8___2 const   *data  =    (U8___2 const   *)((U8___2 *)0);
#line 445 "lego_osek/lego_osek.c"
U8___2 mode  =    (U8___2 )255;
#line 446
extern  __attribute__((__nothrow__)) void *( __attribute__((__nonnull__(1), __leaf__)) memset)(void *__s ,
                                                                                               int __c ,
                                                                                               unsigned long __n ) ;
#line 449
extern  __attribute__((__nothrow__)) unsigned long ( __attribute__((__nonnull__(1),
__leaf__)) strlen)(char const   *__s )  __attribute__((__pure__)) ;
#line 451 "lego_osek/lego_osek.c"
int display_tick  =    0;
#line 452 "lego_osek/lego_osek.c"
int display_auto_update  =    1;
#line 453 "lego_osek/lego_osek.c"
static struct i2c_port_struct i2c_port[4]  ;
#line 454 "lego_osek/lego_osek.c"
char const   avr_brainwash_string[48]  = 
#line 454
  {      (char const   )'\314',      (char const   )'L',      (char const   )'e',      (char const   )'t', 
        (char const   )'\'',      (char const   )'s',      (char const   )' ',      (char const   )'s', 
        (char const   )'a',      (char const   )'m',      (char const   )'b',      (char const   )'a', 
        (char const   )' ',      (char const   )'n',      (char const   )'x',      (char const   )'t', 
        (char const   )' ',      (char const   )'a',      (char const   )'r',      (char const   )'m', 
        (char const   )' ',      (char const   )'i',      (char const   )'n',      (char const   )' ', 
        (char const   )'a',      (char const   )'r',      (char const   )'m',      (char const   )',', 
        (char const   )' ',      (char const   )'(',      (char const   )'c',      (char const   )')', 
        (char const   )'L',      (char const   )'E',      (char const   )'G',      (char const   )'O', 
        (char const   )' ',      (char const   )'S',      (char const   )'y',      (char const   )'s', 
        (char const   )'t',      (char const   )'e',      (char const   )'m',      (char const   )' ', 
        (char const   )'A',      (char const   )'/',      (char const   )'S',      (char const   )'\000'};
#line 467 "lego_osek/lego_osek.c"
static from_avr *io_from_avr  ;
#line 468
extern StatusType TerminateTask(void) ;
#line 469 "lego_osek/lego_osek.c"
static S32___0 distance_state[4]  = {      (S32___0 )-1,      (S32___0 )-1,      (S32___0 )-1,      (S32___0 )-1};
#line 470 "lego_osek/lego_osek.c"
U8___3 const   NXT_COLORSENSOR_PROTOCOLS[7]  = {      (U8___3 const   )176,      (U8___3 const   )112,      (U8___3 const   )240,      (U8___3 const   )8, 
        (U8___3 const   )176,      (U8___3 const   )136,      (U8___3 const   )136};
#line 472 "lego_osek/lego_osek.c"
static int sens_white_cal_right  ;
#line 473 "lego_osek/lego_osek.c"
static int sens_white_cal_left  ;
#line 474 "lego_osek/lego_osek.c"
static int sens_black_cal_right  ;
#line 475 "lego_osek/lego_osek.c"
static int sens_black_cal_left  ;
#line 476 "lego_osek/lego_osek.c"
void TaskMainHighTask(void) 
{ 
  U16___3 raw_sensor_right ;
  U16___3 raw_sensor_left ;
  U8___3 port_id3 ;
  U32___3 tmp4 ;
  U16___2 ret_ecrobot_get_light_sensor5 ;
  U8___3 port_id6 ;
  U32___3 tmp7 ;
  U16___2 ret_ecrobot_get_light_sensor8 ;
  U32___1 n9 ;
  unsigned long ret_sensor_adc10 ;
  U32___1 n11 ;
  unsigned long ret_sensor_adc12 ;
  char *varname13 ;
  int line14 ;
  int value15 ;
  int l16 ;
  size_t___1 tmp17 ;
  int val618 ;
  U32 places719 ;
  int tmp820 ;
  int x921 ;
  int y1022 ;
  int x1123 ;
  int y1224 ;
  int x1325 ;
  int y1426 ;
  char const   *str1527 ;
  int c1628 ;
  int i1729 ;
  U8___2 *b1830 ;
  U8___2 const   *f1931 ;
  U32 val2032 ;
  U32 places2133 ;
  U32 sign2234 ;
  char x2335[12] ;
  char *p2436 ;
  int p_count2537 ;
  char const   *str72638 ;
  int c82739 ;
  int i92840 ;
  U8___2 *b102941 ;
  U8___2 const   *f113042 ;
  char *varname43 ;
  int line44 ;
  int value45 ;
  int l46 ;
  size_t___1 tmp47 ;
  int val648 ;
  U32 places749 ;
  int tmp850 ;
  int x951 ;
  int y1052 ;
  int x1153 ;
  int y1254 ;
  int x1355 ;
  int y1456 ;
  char const   *str1557 ;
  int c1658 ;
  int i1759 ;
  U8___2 *b1860 ;
  U8___2 const   *f1961 ;
  U32 val2062 ;
  U32 places2163 ;
  U32 sign2264 ;
  char x2365[12] ;
  char *p2466 ;
  int p_count2567 ;
  char const   *str72668 ;
  int c82769 ;
  int i92870 ;
  U8___2 *b102971 ;
  U8___2 const   *f113072 ;
  _real V73 ;
  _real V74 ;
  _real L375 ;
  _real L1476 ;
  _real L1777 ;
  _real L1378 ;
  _real L1179 ;
  _real L1880 ;
  _real L1081 ;
  _real L882 ;
  _real L2383 ;
  _real L784 ;
  _real L3085 ;
  _boolean L2986 ;
  _real L3187 ;
  _real L2888 ;
  _real L2789 ;
  _real L3490 ;
  _real L3291 ;
  _real L2692 ;
  _real L2593 ;
  _real L694 ;
  _real L295 ;
  _real L3896 ;
  _real L3797 ;
  _real L3698 ;
  _real T2299 ;
  int tmp100 ;

  {
#line 580
  port_id3 = (U8___3 )0;
#line 581
  n9 = (U32___3 )port_id3;
#line 582
  if (n9 < 4UL) {
#line 583
    ret_sensor_adc10 = (U32___1 )io_from_avr->adc_value[n9];
#line 584
    goto Lret_sensor_adc;
  } else {
#line 586
    ret_sensor_adc10 = (U32___1 )0;
#line 587
    goto Lret_sensor_adc;
  }
  Lret_sensor_adc: 
#line 590
  tmp4 = ret_sensor_adc10;
#line 591
  ret_ecrobot_get_light_sensor5 = (U16___2 )tmp4;
#line 592
  goto Lret_ecrobot_get_light_sensor;
  Lret_ecrobot_get_light_sensor: 
#line 594
  raw_sensor_right = ret_ecrobot_get_light_sensor5;
#line 595
  port_id6 = (U8___3 )3;
#line 596
  n11 = (U32___3 )port_id6;
#line 597
  if (n11 < 4UL) {
#line 598
    ret_sensor_adc12 = (U32___1 )io_from_avr->adc_value[n11];
#line 599
    goto Lret_sensor_adc___0;
  } else {
#line 601
    ret_sensor_adc12 = (U32___1 )0;
#line 602
    goto Lret_sensor_adc___0;
  }
  Lret_sensor_adc___0: 
#line 605
  tmp7 = ret_sensor_adc12;
#line 606
  ret_ecrobot_get_light_sensor8 = (U16___2 )tmp7;
#line 607
  goto Lret_ecrobot_get_light_sensor___0;
  Lret_ecrobot_get_light_sensor___0: 
#line 609
  raw_sensor_left = ret_ecrobot_get_light_sensor8;
#line 610
  if ((int )raw_sensor_right < sens_white_cal_right) {
#line 611
    raw_sensor_right = (U16___3 )sens_white_cal_right;
  } else
#line 613
  if ((int )raw_sensor_right > sens_black_cal_right) {
#line 614
    raw_sensor_right = (U16___3 )sens_black_cal_right;
  }
#line 616
  if ((int )raw_sensor_left < sens_white_cal_left) {
#line 617
    raw_sensor_left = (U16___3 )sens_white_cal_left;
  } else
#line 619
  if ((int )raw_sensor_left > sens_black_cal_left) {
#line 620
    raw_sensor_left = (U16___3 )sens_black_cal_left;
  }
#line 622
  raw_sensor_right = (U16___3 )((((int )raw_sensor_right - sens_white_cal_right) * 100) / (sens_black_cal_right - sens_white_cal_right));
#line 623
  raw_sensor_left = (U16___3 )((((int )raw_sensor_left - sens_white_cal_left) * 100) / (sens_black_cal_left - sens_white_cal_left));
#line 624
  raw_sensor_right = (U16___3 )(100 - (int )raw_sensor_right);
#line 625
  raw_sensor_left = (U16___3 )(100 - (int )raw_sensor_left);
#line 626
  varname13 = (char *)"raw_right";
#line 627
  line14 = 0;
#line 628
  value15 = (int )raw_sensor_right;
#line 629
  GetResource(lcd);
#line 630
  x921 = 0;
#line 631
  y1022 = line14;
#line 632
  display_x = x921;
#line 633
  display_y = y1022;
#line 634
  goto Lret_display_goto_xy;
  Lret_display_goto_xy: 
#line 636
  str1527 = (char const   *)varname13;
#line 637
  while (*str1527) {
#line 638
    if ((int const   )*str1527 != 10) {
#line 639
      c1628 = (int )*str1527;
#line 640
      if (c1628 >= 0) {
#line 641
        if (c1628 < 128) {
#line 642
          if (display_x >= 0) {
#line 643
            if (display_x < 16) {
#line 644
              if (display_y >= 0) {
#line 645
                if (display_y < 8) {
#line 646
                  b1830 = & (*(display_buffer + display_y))[display_x * 6];
#line 647
                  f1931 = font[c1628];
#line 648
                  i1729 = 0;
#line 649
                  while (i1729 < 5) {
#line 650
                    *b1830 = (U8___2 )*f1931;
#line 651
                    b1830 ++;
#line 652
                    f1931 ++;
#line 653
                    i1729 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 661
      goto Lret_display_char;
      Lret_display_char: 
#line 663
      display_x ++;
    } else {
#line 665
      display_x = 0;
#line 666
      display_y ++;
    }
#line 668
    str1527 ++;
  }
#line 670
  goto Lret_display_string;
  Lret_display_string: 
#line 672
  tmp17 = strlen((char const   *)varname13);
#line 673
  l16 = (int )tmp17;
#line 674
  x1123 = l16;
#line 675
  y1224 = line14;
#line 676
  display_x = x1123;
#line 677
  display_y = y1224;
#line 678
  goto Lret_display_goto_xy___0;
  Lret_display_goto_xy___0: 
#line 680
  val618 = value15;
#line 681
  places719 = (U32___3 )4;
#line 682
  if (val618 < 0) {
#line 683
    tmp820 = - val618;
  } else {
#line 685
    tmp820 = val618;
  }
#line 687
  val2032 = (U32 )tmp820;
#line 688
  places2133 = places719;
#line 689
  sign2234 = (U32 )(val618 < 0);
#line 690
  p2436 = & x2335[11];
#line 691
  p_count2537 = 0;
#line 692
  *p2436 = (char)0;
#line 693
  if (places2133 > 11UL) {
#line 694
    places2133 = (U32 )11;
  }
#line 696
  while (val2032) {
#line 697
    p2436 --;
#line 698
    p_count2537 ++;
#line 699
    *p2436 = (char )(val2032 % 10UL + 48UL);
#line 700
    val2032 /= 10UL;
  }
#line 702
  if (! p_count2537) {
#line 703
    p2436 --;
#line 704
    p_count2537 ++;
#line 705
    *p2436 = (char )'0';
  }
#line 707
  if (sign2234) {
#line 708
    p2436 --;
#line 709
    p_count2537 ++;
#line 710
    *p2436 = (char )'-';
  }
#line 712
  while ((U32 )p_count2537 < places2133) {
#line 713
    p2436 --;
#line 714
    p_count2537 ++;
#line 715
    *p2436 = (char )' ';
  }
#line 717
  str72638 = (char const   *)p2436;
#line 718
  while (*str72638) {
#line 719
    if ((int const   )*str72638 != 10) {
#line 720
      c82739 = (int )*str72638;
#line 721
      if (c82739 >= 0) {
#line 722
        if (c82739 < 128) {
#line 723
          if (display_x >= 0) {
#line 724
            if (display_x < 16) {
#line 725
              if (display_y >= 0) {
#line 726
                if (display_y < 8) {
#line 727
                  b102941 = & (*(display_buffer + display_y))[display_x * 6];
#line 728
                  f113042 = font[c82739];
#line 729
                  i92840 = 0;
#line 730
                  while (i92840 < 5) {
#line 731
                    *b102941 = (U8___2 )*f113042;
#line 732
                    b102941 ++;
#line 733
                    f113042 ++;
#line 734
                    i92840 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 742
      goto Lret_display_char___0;
      Lret_display_char___0: 
#line 744
      display_x ++;
    } else {
#line 746
      display_x = 0;
#line 747
      display_y ++;
    }
#line 749
    str72638 ++;
  }
#line 751
  goto Lret_display_string___0;
  Lret_display_string___0: ;
#line 753
  goto Lret_display_unsigned_worker;
  Lret_display_unsigned_worker: ;
#line 755
  goto Lret_display_int;
  Lret_display_int: 
#line 757
  x1325 = 0;
#line 758
  y1426 = line14 + 1;
#line 759
  display_x = x1325;
#line 760
  display_y = y1426;
#line 761
  goto Lret_display_goto_xy___1;
  Lret_display_goto_xy___1: 
#line 763
  display_tick = 0;
#line 764
  if (! display) {
#line 765
    goto Lret_nxt_spi_refresh;
  }
#line 767
  dirty = (unsigned char volatile   )1;
#line 769
  goto Lret_nxt_spi_refresh;
  Lret_nxt_spi_refresh: ;
#line 771
  goto Lret_nxt_lcd_update;
  Lret_nxt_lcd_update: ;
#line 773
  goto Lret_display_update;
  Lret_display_update: 
#line 775
  ReleaseResource(lcd);
#line 776
  goto Lret_show_var;
  Lret_show_var: 
#line 778
  varname43 = (char *)"raw_left";
#line 779
  line44 = 1;
#line 780
  value45 = (int )raw_sensor_left;
#line 781
  GetResource(lcd);
#line 782
  x951 = 0;
#line 783
  y1052 = line44;
#line 784
  display_x = x951;
#line 785
  display_y = y1052;
#line 786
  goto Lret_display_goto_xy___2;
  Lret_display_goto_xy___2: 
#line 788
  str1557 = (char const   *)varname43;
#line 789
  while (*str1557) {
#line 790
    if ((int const   )*str1557 != 10) {
#line 791
      c1658 = (int )*str1557;
#line 792
      if (c1658 >= 0) {
#line 793
        if (c1658 < 128) {
#line 794
          if (display_x >= 0) {
#line 795
            if (display_x < 16) {
#line 796
              if (display_y >= 0) {
#line 797
                if (display_y < 8) {
#line 798
                  b1860 = & (*(display_buffer + display_y))[display_x * 6];
#line 799
                  f1961 = font[c1658];
#line 800
                  i1759 = 0;
#line 801
                  while (i1759 < 5) {
#line 802
                    *b1860 = (U8___2 )*f1961;
#line 803
                    b1860 ++;
#line 804
                    f1961 ++;
#line 805
                    i1759 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 813
      goto Lret_display_char___1;
      Lret_display_char___1: 
#line 815
      display_x ++;
    } else {
#line 817
      display_x = 0;
#line 818
      display_y ++;
    }
#line 820
    str1557 ++;
  }
#line 822
  goto Lret_display_string___1;
  Lret_display_string___1: 
#line 824
  tmp47 = strlen((char const   *)varname43);
#line 825
  l46 = (int )tmp47;
#line 826
  x1153 = l46;
#line 827
  y1254 = line44;
#line 828
  display_x = x1153;
#line 829
  display_y = y1254;
#line 830
  goto Lret_display_goto_xy___3;
  Lret_display_goto_xy___3: 
#line 832
  val648 = value45;
#line 833
  places749 = (U32___3 )4;
#line 834
  if (val648 < 0) {
#line 835
    tmp850 = - val648;
  } else {
#line 837
    tmp850 = val648;
  }
#line 839
  val2062 = (U32 )tmp850;
#line 840
  places2163 = places749;
#line 841
  sign2264 = (U32 )(val648 < 0);
#line 842
  p2466 = & x2365[11];
#line 843
  p_count2567 = 0;
#line 844
  *p2466 = (char)0;
#line 845
  if (places2163 > 11UL) {
#line 846
    places2163 = (U32 )11;
  }
#line 848
  while (val2062) {
#line 849
    p2466 --;
#line 850
    p_count2567 ++;
#line 851
    *p2466 = (char )(val2062 % 10UL + 48UL);
#line 852
    val2062 /= 10UL;
  }
#line 854
  if (! p_count2567) {
#line 855
    p2466 --;
#line 856
    p_count2567 ++;
#line 857
    *p2466 = (char )'0';
  }
#line 859
  if (sign2264) {
#line 860
    p2466 --;
#line 861
    p_count2567 ++;
#line 862
    *p2466 = (char )'-';
  }
#line 864
  while ((U32 )p_count2567 < places2163) {
#line 865
    p2466 --;
#line 866
    p_count2567 ++;
#line 867
    *p2466 = (char )' ';
  }
#line 869
  str72668 = (char const   *)p2466;
#line 870
  while (*str72668) {
#line 871
    if ((int const   )*str72668 != 10) {
#line 872
      c82769 = (int )*str72668;
#line 873
      if (c82769 >= 0) {
#line 874
        if (c82769 < 128) {
#line 875
          if (display_x >= 0) {
#line 876
            if (display_x < 16) {
#line 877
              if (display_y >= 0) {
#line 878
                if (display_y < 8) {
#line 879
                  b102971 = & (*(display_buffer + display_y))[display_x * 6];
#line 880
                  f113072 = font[c82769];
#line 881
                  i92870 = 0;
#line 882
                  while (i92870 < 5) {
#line 883
                    *b102971 = (U8___2 )*f113072;
#line 884
                    b102971 ++;
#line 885
                    f113072 ++;
#line 886
                    i92870 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 894
      goto Lret_display_char___2;
      Lret_display_char___2: 
#line 896
      display_x ++;
    } else {
#line 898
      display_x = 0;
#line 899
      display_y ++;
    }
#line 901
    str72668 ++;
  }
#line 903
  goto Lret_display_string___2;
  Lret_display_string___2: ;
#line 905
  goto Lret_display_unsigned_worker___0;
  Lret_display_unsigned_worker___0: ;
#line 907
  goto Lret_display_int___0;
  Lret_display_int___0: 
#line 909
  x1355 = 0;
#line 910
  y1456 = line44 + 1;
#line 911
  display_x = x1355;
#line 912
  display_y = y1456;
#line 913
  goto Lret_display_goto_xy___4;
  Lret_display_goto_xy___4: 
#line 915
  display_tick = 0;
#line 916
  if (! display) {
#line 917
    goto Lret_nxt_spi_refresh___0;
  }
#line 919
  dirty = (unsigned char volatile   )1;
#line 920
  *((AT91_REG *)4294836244U) = 1U << 5;
#line 921
  goto Lret_nxt_spi_refresh___0;
  Lret_nxt_spi_refresh___0: ;
#line 923
  goto Lret_nxt_lcd_update___0;
  Lret_nxt_lcd_update___0: ;
#line 925
  goto Lret_display_update___0;
  Lret_display_update___0: 
#line 927
  ReleaseResource(lcd);
#line 928
  goto Lret_show_var___0;
  Lret_show_var___0: 
#line 930
  V73 = (_real___1 )raw_sensor_right;
#line 931
  ctx._Cd = V73;
#line 932
  goto Lret_motor_control_I_Cd;
  Lret_motor_control_I_Cd: 
#line 934
  V74 = (_real___1 )raw_sensor_left;
#line 935
  ctx._Cg = V74;
#line 936
  goto Lret_motor_control_I_Cg;
  Lret_motor_control_I_Cg: 
#line 938
  L375 = 1.000000 / 2.000000;
#line 939
  L1476 = 3.14159265359 / 200.000000;
#line 940
  L1777 = ctx._Cd - ctx._Cg;
#line 941
  L1378 = L1476 * L1777;
#line 942
  L1179 = 0.002000 * L1378;
#line 943
  if (ctx.M19) {
#line 944
    L1880 = 0.000000;
  } else {
#line 946
    L1880 = ctx.M22;
  }
#line 948
  L1081 = L1179 + L1880;
#line 949
  L882 = 0.43625 * L1081;
#line 950
  L2383 = 2.5 * L1378;
#line 951
  L784 = L882 + L2383;
#line 952
  L3085 = 2.000000 * L784;
#line 953
  L2986 = L3085 < 0.000000;
#line 954
  L3187 = - L3085;
#line 955
  if (L2986) {
#line 956
    L2888 = L3187;
  } else {
#line 958
    L2888 = L3085;
  }
#line 960
  L2789 = - L2888;
#line 961
  L3490 = ctx._Cd + ctx._Cg;
#line 962
  L3291 = 0.005000 * L3490;
#line 963
  L2692 = L2789 + L3291;
#line 964
  L2593 = 2.000000 * L2692;
#line 965
  L694 = L784 + L2593;
#line 966
  L295 = L375 * L694;
#line 967
  motor_control_O_u_d(L295);
#line 968
  L3896 = - L784;
#line 969
  L3797 = L3896 + L2593;
#line 970
  L3698 = L375 * L3797;
#line 971
  motor_control_O_u_g(L3698);
#line 972
  T2299 = L1081;
#line 973
  ctx.M22 = T2299;
#line 974
  ctx.M22_nil = 0;
#line 975
  if (ctx.M19) {
#line 976
    tmp100 = 0;
  } else {
#line 978
    tmp100 = 0;
  }
#line 980
  ctx.M19 = tmp100;
#line 981
  goto Lret_motor_control_step;
  Lret_motor_control_step: 
#line 983
  TerminateTask();
#line 984
  return;
}
}
#line 987
void TaskMainLowTask(void) ;
#line 988 "lego_osek/lego_osek.c"
static U32___4 previous_raw_sonar_value  =    (U32___4 )255;
#line 989 "lego_osek/lego_osek.c"
void TaskMainLowTask(void) 
{ 
  U16___3 raw_sensor_left ;
  U32___4 raw_sonar_value ;
  S32___0 tmp ;
  _float___0 sonar_value ;
  U8___3 port_id5 ;
  U32___3 tmp6 ;
  U16___2 ret_ecrobot_get_light_sensor7 ;
  U8___3 port_id8 ;
  int tmp9 ;
  S32___0 ret_ecrobot_get_sonar_sensor10 ;
  int port11 ;
  int ret_i2c_busy12 ;
  int port13 ;
  U32___0 address14 ;
  int internal_address15 ;
  int n_internal_address_bytes16 ;
  U8___0 *data17 ;
  U32___0 nbytes18 ;
  int write19 ;
  struct i2c_port_struct *p20 ;
  struct i2c_partial_transaction *pt21 ;
  int tmp22 ;
  int tmp___023 ;
  int port1224 ;
  int ret_i2c_busy1325 ;
  U32___1 n26 ;
  unsigned long ret_sensor_adc27 ;
  char *varname28 ;
  int line29 ;
  int value30 ;
  int l31 ;
  size_t___1 tmp32 ;
  int val633 ;
  U32 places734 ;
  int tmp835 ;
  int x936 ;
  int y1037 ;
  int x1138 ;
  int y1239 ;
  int x1340 ;
  int y1441 ;
  char const   *str1542 ;
  int c1643 ;
  int i1744 ;
  U8___2 *b1845 ;
  U8___2 const   *f1946 ;
  U32 val2047 ;
  U32 places2148 ;
  U32 sign2249 ;
  char x2350[12] ;
  char *p2451 ;
  int p_count2552 ;
  char const   *str72653 ;
  int c82754 ;
  int i92855 ;
  U8___2 *b102956 ;
  U8___2 const   *f113057 ;
  _real___0 V58 ;
  _real___0 V59 ;
  _boolean___0 L460 ;
  _boolean___0 L661 ;
  _boolean___0 L362 ;
  _boolean___0 L1263 ;
  _boolean___0 L1164 ;
  _boolean___0 L265 ;
  _boolean___0 L1766 ;
  _boolean___0 L1967 ;
  _boolean___0 L1668 ;
  _boolean___0 L1569 ;
  _boolean___0 L2470 ;
  _boolean___0 L2671 ;
  _boolean___0 L2372 ;
  _boolean___0 L2273 ;
  _boolean___0 L3074 ;
  _boolean___0 L3175 ;
  _boolean___0 L2976 ;
  _boolean___0 L2877 ;
  _boolean___0 L2178 ;
  _boolean___0 L1479 ;
  _boolean___0 T1380 ;
  _boolean___0 T3281 ;
  _boolean___0 T2782 ;
  _boolean___0 T2083 ;
  _boolean___0 T1084 ;
  int tmp85 ;
  int tmp___086 ;
  int tmp___187 ;
  int tmp___288 ;
  int tmp___389 ;
  int tmp___490 ;
  int tmp___591 ;
  int tmp___692 ;
  int tmp___793 ;
  int tmp___894 ;
  int tmp___995 ;
  int obst96 ;
  _real___2 Pg97 ;
  _real___2 Pd98 ;
  char *varname499 ;
  int line5100 ;
  int value6101 ;
  int l7102 ;
  size_t___1 tmp8103 ;
  int val69104 ;
  U32 places710105 ;
  int tmp811106 ;
  int x912107 ;
  int y1013108 ;
  int x1114109 ;
  int y1215110 ;
  int x1316111 ;
  int y1417112 ;
  char const   *str1518113 ;
  int c1619114 ;
  int i1720115 ;
  U8___2 *b1821116 ;
  U8___2 const   *f1922117 ;
  U32 val2023118 ;
  U32 places2124119 ;
  U32 sign2225120 ;
  char x2326121[12] ;
  char *p2427122 ;
  int p_count2528123 ;
  char const   *str72629124 ;
  int c82730125 ;
  int i92831126 ;
  U8___2 *b102932127 ;
  U8___2 const   *f113033128 ;
  char *varname34129 ;
  int line35130 ;
  int value36131 ;
  int l37132 ;
  size_t___1 tmp38133 ;
  int val639134 ;
  U32 places740135 ;
  int tmp841136 ;
  int x942137 ;
  int y1043138 ;
  int x1144139 ;
  int y1245140 ;
  int x1346141 ;
  int y1447142 ;
  char const   *str1548143 ;
  int c1649144 ;
  int i1750145 ;
  U8___2 *b1851146 ;
  U8___2 const   *f1952147 ;
  U32 val2053148 ;
  U32 places2154149 ;
  U32 sign2255150 ;
  char x2356151[12] ;
  char *p2457152 ;
  int p_count2558153 ;
  char const   *str72659154 ;
  int c82760155 ;
  int i92861156 ;
  U8___2 *b102962157 ;
  U8___2 const   *f113063158 ;
  U32___4 port64159 ;
  _real___2 speed65160 ;
  int speed_percent66161 ;
  U8___3 port_id467162 ;
  S8___1 speed568163 ;
  U32___2 n669164 ;
  int speed_percent770165 ;
  int brake871166 ;
  U32___1 n972167 ;
  int power_percent1073168 ;
  int brake1174169 ;
  U32___4 port75170 ;
  _real___2 speed76171 ;
  int speed_percent77172 ;
  U8___3 port_id478173 ;
  S8___1 speed579174 ;
  U32___2 n680175 ;
  int speed_percent781176 ;
  int brake882177 ;
  U32___1 n983178 ;
  int power_percent1084179 ;
  int brake1185180 ;

  {
#line 1173
  port_id5 = (U8___3 )3;
#line 1174
  n26 = (U32___3 )port_id5;
#line 1175
  if (n26 < 4UL) {
#line 1176
    ret_sensor_adc27 = (U32___1 )io_from_avr->adc_value[n26];
#line 1177
    goto Lret_sensor_adc;
  } else {
#line 1179
    ret_sensor_adc27 = (U32___1 )0;
#line 1180
    goto Lret_sensor_adc;
  }
  Lret_sensor_adc: 
#line 1183
  tmp6 = ret_sensor_adc27;
#line 1184
  ret_ecrobot_get_light_sensor7 = (U16___2 )tmp6;
#line 1185
  goto Lret_ecrobot_get_light_sensor;
  Lret_ecrobot_get_light_sensor: 
#line 1187
  raw_sensor_left = ret_ecrobot_get_light_sensor7;
#line 1188
  if ((int )raw_sensor_left < sens_white_cal_left) {
#line 1189
    raw_sensor_left = (U16___3 )sens_white_cal_left;
  } else
#line 1191
  if ((int )raw_sensor_left > sens_black_cal_left) {
#line 1192
    raw_sensor_left = (U16___3 )sens_black_cal_left;
  }
#line 1194
  raw_sensor_left = (U16___3 )((((int )raw_sensor_left - sens_white_cal_left) * 100) / (sens_black_cal_left - sens_white_cal_left));
#line 1195
  raw_sensor_left = (U16___3 )(100 - (int )raw_sensor_left);
#line 1196
  port_id8 = (U8___3 )1;
#line 1197
  port11 = (int )port_id8;
#line 1198
  if (port11 >= 0) {
#line 1199
    if (port11 < 4) {
#line 1200
      ret_i2c_busy12 = (unsigned int )i2c_port[port11].state > 1U;
#line 1201
      goto Lret_i2c_busy;
    }
  }
#line 1204
  ret_i2c_busy12 = 0;
#line 1205
  goto Lret_i2c_busy;
  Lret_i2c_busy: 
#line 1207
  tmp9 = ret_i2c_busy12;
#line 1208
  if (tmp9 == 0) {
#line 1209
    distance_state[port_id8] = (S32___0 )*(data + (int )port_id8);
#line 1210
    port13 = (int )port_id8;
#line 1211
    address14 = (U32___3 )1;
#line 1212
    internal_address15 = 66;
#line 1213
    n_internal_address_bytes16 = 1;
#line 1214
    data17 = (U8___0 *)(data + (int )port_id8);
#line 1215
    nbytes18 = (U32___3 )1;
#line 1216
    write19 = 0;
#line 1217
    if (port13 < 0) {
#line 1218
      goto Lret_i2c_start_transaction;
    } else
#line 1220
    if (port13 >= 4) {
#line 1221
      goto Lret_i2c_start_transaction;
    }
#line 1223
    port1224 = port13;
#line 1224
    if (port1224 >= 0) {
#line 1225
      if (port1224 < 4) {
#line 1226
        ret_i2c_busy1325 = (unsigned int )i2c_port[port1224].state > 1U;
#line 1227
        goto Lret_i2c_busy___0;
      }
    }
#line 1230
    ret_i2c_busy1325 = 0;
#line 1231
    goto Lret_i2c_busy___0;
    Lret_i2c_busy___0: 
#line 1233
    tmp22 = ret_i2c_busy1325;
#line 1234
    if (tmp22) {
#line 1235
      goto Lret_i2c_start_transaction;
    }
#line 1237
    p20 = & i2c_port[port13];
#line 1238
    p20->pt_num = (U32___0 )0;
#line 1239
    p20->pt_begun = (U32___0 )0;
#line 1240
    pt21 = p20->partial_transaction;
#line 1241
    p20->current_pt = pt21;
#line 1242
    memset((void *)pt21, 0, sizeof(p20->partial_transaction));
#line 1243
    if (n_internal_address_bytes16 > 0) {
#line 1244
      p20->addr_int[0] = (U8___0 )(address14 << 1);
#line 1245
      p20->addr_int[1] = (U8___0 )internal_address15;
#line 1246
      pt21->start = (U8___0 )1;
#line 1247
      if (write19) {
#line 1248
        pt21->stop = (U8___0 )0;
      } else {
#line 1250
        pt21->stop = (U8___0 )1;
      }
#line 1252
      pt21->tx = (U8___0 )1;
#line 1253
      pt21->data = p20->addr_int;
#line 1254
      pt21->nbytes = (U16___0 )2;
#line 1255
      pt21 ++;
    }
#line 1257
    if (n_internal_address_bytes16 == 0) {
#line 1258
      goto _L;
    } else
#line 1260
    if (! write19) {
      _L: 
#line 1262
      if (n_internal_address_bytes16 > 0) {
#line 1263
        pt21->start = (U8___0 )0;
      } else {
#line 1265
        pt21->start = (U8___0 )1;
      }
#line 1267
      pt21->restart = (U8___0 )(! pt21->start);
#line 1268
      pt21->stop = (U8___0 )0;
#line 1269
      pt21->tx = (U8___0 )1;
#line 1270
      if (write19) {
#line 1271
        tmp___023 = 0;
      } else {
#line 1273
        tmp___023 = 1;
      }
#line 1275
      p20->addr = (U8___0 )((address14 << 1) | (unsigned long )tmp___023);
#line 1276
      pt21->data = & p20->addr;
#line 1277
      pt21->nbytes = (U16___0 )1;
#line 1278
      pt21 ++;
    }
#line 1280
    pt21->start = (U8___0 )0;
#line 1281
    pt21->stop = (U8___0 )1;
#line 1282
    if (write19) {
#line 1283
      pt21->tx = (U8___0 )1;
    } else {
#line 1285
      pt21->tx = (U8___0 )0;
    }
#line 1287
    pt21->data = data17;
#line 1288
    pt21->nbytes = (U16___0 )nbytes18;
#line 1289
    pt21->last_pt = (U8___0 )1;
#line 1290
    p20->state = (i2c_port_state )2;
#line 1291
    goto Lret_i2c_start_transaction;
    Lret_i2c_start_transaction: ;
  }
#line 1294
  ret_ecrobot_get_sonar_sensor10 = distance_state[port_id8];
#line 1295
  goto Lret_ecrobot_get_sonar_sensor;
  Lret_ecrobot_get_sonar_sensor: 
#line 1297
  tmp = ret_ecrobot_get_sonar_sensor10;
#line 1298
  raw_sonar_value = (U32___4 )tmp;
#line 1299
  if (raw_sonar_value < 0UL) {
#line 1300
    raw_sonar_value = previous_raw_sonar_value;
  } else {
#line 1302
    previous_raw_sonar_value = raw_sonar_value;
  }
#line 1304
  sonar_value = (_float___0 )((double )raw_sonar_value / 2.56);
#line 1305
  varname28 = (char *)"sonar";
#line 1306
  line29 = 2;
#line 1307
  value30 = (int )sonar_value;
#line 1308
  GetResource(lcd);
#line 1309
  x936 = 0;
#line 1310
  y1037 = line29;
#line 1311
  display_x = x936;
#line 1312
  display_y = y1037;
#line 1313
  goto Lret_display_goto_xy;
  Lret_display_goto_xy: 
#line 1315
  str1542 = (char const   *)varname28;
#line 1316
  while (*str1542) {
#line 1317
    if ((int const   )*str1542 != 10) {
#line 1318
      c1643 = (int )*str1542;
#line 1319
      if (c1643 >= 0) {
#line 1320
        if (c1643 < 128) {
#line 1321
          if (display_x >= 0) {
#line 1322
            if (display_x < 16) {
#line 1323
              if (display_y >= 0) {
#line 1324
                if (display_y < 8) {
#line 1325
                  b1845 = & (*(display_buffer + display_y))[display_x * 6];
#line 1326
                  f1946 = font[c1643];
#line 1327
                  i1744 = 0;
#line 1328
                  while (i1744 < 5) {
#line 1329
                    *b1845 = (U8___2 )*f1946;
#line 1330
                    b1845 ++;
#line 1331
                    f1946 ++;
#line 1332
                    i1744 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 1340
      goto Lret_display_char;
      Lret_display_char: 
#line 1342
      display_x ++;
    } else {
#line 1344
      display_x = 0;
#line 1345
      display_y ++;
    }
#line 1347
    str1542 ++;
  }
#line 1349
  goto Lret_display_string;
  Lret_display_string: 
#line 1351
  tmp32 = strlen((char const   *)varname28);
#line 1352
  l31 = (int )tmp32;
#line 1353
  x1138 = l31;
#line 1354
  y1239 = line29;
#line 1355
  display_x = x1138;
#line 1356
  display_y = y1239;
#line 1357
  goto Lret_display_goto_xy___0;
  Lret_display_goto_xy___0: 
#line 1359
  val633 = value30;
#line 1360
  places734 = (U32___3 )4;
#line 1361
  if (val633 < 0) {
#line 1362
    tmp835 = - val633;
  } else {
#line 1364
    tmp835 = val633;
  }
#line 1366
  val2047 = (U32 )tmp835;
#line 1367
  places2148 = places734;
#line 1368
  sign2249 = (U32 )(val633 < 0);
#line 1369
  p2451 = & x2350[11];
#line 1370
  p_count2552 = 0;
#line 1371
  *p2451 = (char)0;
#line 1372
  if (places2148 > 11UL) {
#line 1373
    places2148 = (U32 )11;
  }
#line 1375
  while (val2047) {
#line 1376
    p2451 --;
#line 1377
    p_count2552 ++;
#line 1378
    *p2451 = (char )(val2047 % 10UL + 48UL);
#line 1379
    val2047 /= 10UL;
  }
#line 1381
  if (! p_count2552) {
#line 1382
    p2451 --;
#line 1383
    p_count2552 ++;
#line 1384
    *p2451 = (char )'0';
  }
#line 1386
  if (sign2249) {
#line 1387
    p2451 --;
#line 1388
    p_count2552 ++;
#line 1389
    *p2451 = (char )'-';
  }
#line 1391
  while ((U32 )p_count2552 < places2148) {
#line 1392
    p2451 --;
#line 1393
    p_count2552 ++;
#line 1394
    *p2451 = (char )' ';
  }
#line 1396
  str72653 = (char const   *)p2451;
#line 1397
  while (*str72653) {
#line 1398
    if ((int const   )*str72653 != 10) {
#line 1399
      c82754 = (int )*str72653;
#line 1400
      if (c82754 >= 0) {
#line 1401
        if (c82754 < 128) {
#line 1402
          if (display_x >= 0) {
#line 1403
            if (display_x < 16) {
#line 1404
              if (display_y >= 0) {
#line 1405
                if (display_y < 8) {
#line 1406
                  b102956 = & (*(display_buffer + display_y))[display_x * 6];
#line 1407
                  f113057 = font[c82754];
#line 1408
                  i92855 = 0;
#line 1409
                  while (i92855 < 5) {
#line 1410
                    *b102956 = (U8___2 )*f113057;
#line 1411
                    b102956 ++;
#line 1412
                    f113057 ++;
#line 1413
                    i92855 ++;
                  }
                }
              }
            }
          }
        }
      }
#line 1421
      goto Lret_display_char___0;
      Lret_display_char___0: 
#line 1423
      display_x ++;
    } else {
#line 1425
      display_x = 0;
#line 1426
      display_y ++;
    }
#line 1428
    str72653 ++;
  }
#line 1430
  goto Lret_display_string___0;
  Lret_display_string___0: ;
#line 1432
  goto Lret_display_unsigned_worker;
  Lret_display_unsigned_worker: ;
#line 1434
  goto Lret_display_int;
  Lret_display_int: 
#line 1436
  x1340 = 0;
#line 1437
  y1441 = line29 + 1;
#line 1438
  display_x = x1340;
#line 1439
  display_y = y1441;
#line 1440
  goto Lret_display_goto_xy___1;
  Lret_display_goto_xy___1: 
#line 1442
  display_tick = 0;
#line 1443
  if (! display) {
#line 1444
    goto Lret_nxt_spi_refresh;
  }
#line 1446
  dirty = (unsigned char volatile   )1;
#line 1447
  *((AT91_REG *)4294836244U) = 1U << 5;
#line 1448
  goto Lret_nxt_spi_refresh;
  Lret_nxt_spi_refresh: ;
#line 1450
  goto Lret_nxt_lcd_update;
  Lret_nxt_lcd_update: ;
#line 1452
  goto Lret_display_update;
  Lret_display_update: 
#line 1454
  ReleaseResource(lcd);
#line 1455
  goto Lret_show_var;
  Lret_show_var: 
#line 1457
  V58 = (_real___1 )sonar_value;
#line 1458
  ctx_obst._Co = V58;
#line 1459
  goto Lret_obst_detector_I_Co;
  Lret_obst_detector_I_Co: 
#line 1461
  V59 = (_real___1 )raw_sensor_left;
#line 1462
  ctx_obst._Cg = V59;
#line 1463
  goto Lret_obst_detector_I_Cg;
  Lret_obst_detector_I_Cg: 
#line 1465
  L460 = ctx_obst._Co < (_real___0 )8;
#line 1466
  if (ctx_obst.M7) {
#line 1467
    L661 = 0;
  } else {
#line 1469
    L661 = ctx_obst.M10;
  }
#line 1471
  if (L460) {
#line 1472
    tmp85 = 1;
  } else
#line 1474
  if (L661) {
#line 1475
    tmp85 = 1;
  } else {
#line 1477
    tmp85 = 0;
  }
#line 1479
  L362 = tmp85;
#line 1480
  if (ctx_obst.M7) {
#line 1481
    L1263 = 0;
  } else {
#line 1483
    L1263 = ctx_obst.M13;
  }
#line 1485
  L1164 = ! L1263;
#line 1486
  if (L362) {
#line 1487
    if (L1164) {
#line 1488
      tmp___086 = 1;
    } else {
#line 1490
      tmp___086 = 0;
    }
  } else {
#line 1493
    tmp___086 = 0;
  }
#line 1495
  L265 = tmp___086;
#line 1496
  obst96 = L265;
#line 1497
  Pg97 = (_real___2 )-32;
#line 1498
  Pd98 = (_real___2 )25;
#line 1499
  multi_task_obst = obst96;
#line 1500
  if (multi_task_obst) {
#line 1501
    varname499 = (char *)"Pd";
#line 1502
    line5100 = 3;
#line 1503
    value6101 = (int )Pg97;
#line 1504
    GetResource(lcd);
#line 1505
    x912107 = 0;
#line 1506
    y1013108 = line5100;
#line 1507
    display_x = x912107;
#line 1508
    display_y = y1013108;
#line 1509
    goto Lret_display_goto_xy___2;
    Lret_display_goto_xy___2: 
#line 1511
    str1518113 = (char const   *)varname499;
#line 1512
    while (*str1518113) {
#line 1513
      if ((int const   )*str1518113 != 10) {
#line 1514
        c1619114 = (int )*str1518113;
#line 1515
        if (c1619114 >= 0) {
#line 1516
          if (c1619114 < 128) {
#line 1517
            if (display_x >= 0) {
#line 1518
              if (display_x < 16) {
#line 1519
                if (display_y >= 0) {
#line 1520
                  if (display_y < 8) {
#line 1521
                    b1821116 = & (*(display_buffer + display_y))[display_x * 6];
#line 1522
                    f1922117 = font[c1619114];
#line 1523
                    i1720115 = 0;
#line 1524
                    while (i1720115 < 5) {
#line 1525
                      *b1821116 = (U8___2 )*f1922117;
#line 1526
                      b1821116 ++;
#line 1527
                      f1922117 ++;
#line 1528
                      i1720115 ++;
                    }
                  }
                }
              }
            }
          }
        }
#line 1536
        goto Lret_display_char___1;
        Lret_display_char___1: 
#line 1538
        display_x ++;
      } else {
#line 1540
        display_x = 0;
#line 1541
        display_y ++;
      }
#line 1543
      str1518113 ++;
    }
#line 1545
    goto Lret_display_string___1;
    Lret_display_string___1: 
#line 1547
    tmp8103 = strlen((char const   *)varname499);
#line 1548
    l7102 = (int )tmp8103;
#line 1549
    x1114109 = l7102;
#line 1550
    y1215110 = line5100;
#line 1551
    display_x = x1114109;
#line 1552
    display_y = y1215110;
#line 1553
    goto Lret_display_goto_xy___3;
    Lret_display_goto_xy___3: 
#line 1555
    val69104 = value6101;
#line 1556
    places710105 = (U32___3 )4;
#line 1557
    if (val69104 < 0) {
#line 1558
      tmp811106 = - val69104;
    } else {
#line 1560
      tmp811106 = val69104;
    }
#line 1562
    val2023118 = (U32 )tmp811106;
#line 1563
    places2124119 = places710105;
#line 1564
    sign2225120 = (U32 )(val69104 < 0);
#line 1565
    p2427122 = & x2326121[11];
#line 1566
    p_count2528123 = 0;
#line 1567
    *p2427122 = (char)0;
#line 1568
    if (places2124119 > 11UL) {
#line 1569
      places2124119 = (U32 )11;
    }
#line 1571
    while (val2023118) {
#line 1572
      p2427122 --;
#line 1573
      p_count2528123 ++;
#line 1574
      *p2427122 = (char )(val2023118 % 10UL + 48UL);
#line 1575
      val2023118 /= 10UL;
    }
#line 1577
    if (! p_count2528123) {
#line 1578
      p2427122 --;
#line 1579
      p_count2528123 ++;
#line 1580
      *p2427122 = (char )'0';
    }
#line 1582
    if (sign2225120) {
#line 1583
      p2427122 --;
#line 1584
      p_count2528123 ++;
#line 1585
      *p2427122 = (char )'-';
    }
#line 1587
    while ((U32 )p_count2528123 < places2124119) {
#line 1588
      p2427122 --;
#line 1589
      p_count2528123 ++;
#line 1590
      *p2427122 = (char )' ';
    }
#line 1592
    str72629124 = (char const   *)p2427122;
#line 1593
    while (*str72629124) {
#line 1594
      if ((int const   )*str72629124 != 10) {
#line 1595
        c82730125 = (int )*str72629124;
#line 1596
        if (c82730125 >= 0) {
#line 1597
          if (c82730125 < 128) {
#line 1598
            if (display_x >= 0) {
#line 1599
              if (display_x < 16) {
#line 1600
                if (display_y >= 0) {
#line 1601
                  if (display_y < 8) {
#line 1602
                    b102932127 = & (*(display_buffer + display_y))[display_x * 6];
#line 1603
                    f113033128 = font[c82730125];
#line 1604
                    i92831126 = 0;
#line 1605
                    while (i92831126 < 5) {
#line 1606
                      *b102932127 = (U8___2 )*f113033128;
#line 1607
                      b102932127 ++;
#line 1608
                      f113033128 ++;
#line 1609
                      i92831126 ++;
                    }
                  }
                }
              }
            }
          }
        }
#line 1617
        goto Lret_display_char___2;
        Lret_display_char___2: 
#line 1619
        display_x ++;
      } else {
#line 1621
        display_x = 0;
#line 1622
        display_y ++;
      }
#line 1624
      str72629124 ++;
    }
#line 1626
    goto Lret_display_string___2;
    Lret_display_string___2: ;
#line 1628
    goto Lret_display_unsigned_worker___0;
    Lret_display_unsigned_worker___0: ;
#line 1630
    goto Lret_display_int___0;
    Lret_display_int___0: 
#line 1632
    x1316111 = 0;
#line 1633
    y1417112 = line5100 + 1;
#line 1634
    display_x = x1316111;
#line 1635
    display_y = y1417112;
#line 1636
    goto Lret_display_goto_xy___4;
    Lret_display_goto_xy___4: 
#line 1638
    display_tick = 0;
#line 1639
    if (! display) {
#line 1640
      goto Lret_nxt_spi_refresh___0;
    }
#line 1642
    dirty = (unsigned char volatile   )1;
#line 1643
    *((AT91_REG *)4294836244U) = 1U << 5;
#line 1644
    goto Lret_nxt_spi_refresh___0;
    Lret_nxt_spi_refresh___0: ;
#line 1646
    goto Lret_nxt_lcd_update___0;
    Lret_nxt_lcd_update___0: ;
#line 1648
    goto Lret_display_update___0;
    Lret_display_update___0: 
#line 1650
    ReleaseResource(lcd);
#line 1651
    goto Lret_show_var___0;
    Lret_show_var___0: 
#line 1653
    varname34129 = (char *)"Pg";
#line 1654
    line35130 = 4;
#line 1655
    value36131 = (int )Pd98;
#line 1656
    GetResource(lcd);
#line 1657
    x942137 = 0;
#line 1658
    y1043138 = line35130;
#line 1659
    display_x = x942137;
#line 1660
    display_y = y1043138;
#line 1661
    goto Lret_display_goto_xy___5;
    Lret_display_goto_xy___5: 
#line 1663
    str1548143 = (char const   *)varname34129;
#line 1664
    while (*str1548143) {
#line 1665
      if ((int const   )*str1548143 != 10) {
#line 1666
        c1649144 = (int )*str1548143;
#line 1667
        if (c1649144 >= 0) {
#line 1668
          if (c1649144 < 128) {
#line 1669
            if (display_x >= 0) {
#line 1670
              if (display_x < 16) {
#line 1671
                if (display_y >= 0) {
#line 1672
                  if (display_y < 8) {
#line 1673
                    b1851146 = & (*(display_buffer + display_y))[display_x * 6];
#line 1674
                    f1952147 = font[c1649144];
#line 1675
                    i1750145 = 0;
#line 1676
                    while (i1750145 < 5) {
#line 1677
                      *b1851146 = (U8___2 )*f1952147;
#line 1678
                      b1851146 ++;
#line 1679
                      f1952147 ++;
#line 1680
                      i1750145 ++;
                    }
                  }
                }
              }
            }
          }
        }
#line 1688
        goto Lret_display_char___3;
        Lret_display_char___3: 
#line 1690
        display_x ++;
      } else {
#line 1692
        display_x = 0;
#line 1693
        display_y ++;
      }
#line 1695
      str1548143 ++;
    }
#line 1697
    goto Lret_display_string___3;
    Lret_display_string___3: 
#line 1699
    tmp38133 = strlen((char const   *)varname34129);
#line 1700
    l37132 = (int )tmp38133;
#line 1701
    x1144139 = l37132;
#line 1702
    y1245140 = line35130;
#line 1703
    display_x = x1144139;
#line 1704
    display_y = y1245140;
#line 1705
    goto Lret_display_goto_xy___6;
    Lret_display_goto_xy___6: 
#line 1707
    val639134 = value36131;
#line 1708
    places740135 = (U32___3 )4;
#line 1709
    if (val639134 < 0) {
#line 1710
      tmp841136 = - val639134;
    } else {
#line 1712
      tmp841136 = val639134;
    }
#line 1714
    val2053148 = (U32 )tmp841136;
#line 1715
    places2154149 = places740135;
#line 1716
    sign2255150 = (U32 )(val639134 < 0);
#line 1717
    p2457152 = & x2356151[11];
#line 1718
    p_count2558153 = 0;
#line 1719
    *p2457152 = (char)0;
#line 1720
    if (places2154149 > 11UL) {
#line 1721
      places2154149 = (U32 )11;
    }
#line 1723
    while (val2053148) {
#line 1724
      p2457152 --;
#line 1725
      p_count2558153 ++;
#line 1726
      *p2457152 = (char )(val2053148 % 10UL + 48UL);
#line 1727
      val2053148 /= 10UL;
    }
#line 1729
    if (! p_count2558153) {
#line 1730
      p2457152 --;
#line 1731
      p_count2558153 ++;
#line 1732
      *p2457152 = (char )'0';
    }
#line 1734
    if (sign2255150) {
#line 1735
      p2457152 --;
#line 1736
      p_count2558153 ++;
#line 1737
      *p2457152 = (char )'-';
    }
#line 1739
    while ((U32 )p_count2558153 < places2154149) {
#line 1740
      p2457152 --;
#line 1741
      p_count2558153 ++;
#line 1742
      *p2457152 = (char )' ';
    }
#line 1744
    str72659154 = (char const   *)p2457152;
#line 1745
    while (*str72659154) {
#line 1746
      if ((int const   )*str72659154 != 10) {
#line 1747
        c82760155 = (int )*str72659154;
#line 1748
        if (c82760155 >= 0) {
#line 1749
          if (c82760155 < 128) {
#line 1750
            if (display_x >= 0) {
#line 1751
              if (display_x < 16) {
#line 1752
                if (display_y >= 0) {
#line 1753
                  if (display_y < 8) {
#line 1754
                    b102962157 = & (*(display_buffer + display_y))[display_x * 6];
#line 1755
                    f113063158 = font[c82760155];
#line 1756
                    i92861156 = 0;
#line 1757
                    while (i92861156 < 5) {
#line 1758
                      *b102962157 = (U8___2 )*f113063158;
#line 1759
                      b102962157 ++;
#line 1760
                      f113063158 ++;
#line 1761
                      i92861156 ++;
                    }
                  }
                }
              }
            }
          }
        }
#line 1769
        goto Lret_display_char___4;
        Lret_display_char___4: 
#line 1771
        display_x ++;
      } else {
#line 1773
        display_x = 0;
#line 1774
        display_y ++;
      }
#line 1776
      str72659154 ++;
    }
#line 1778
    goto Lret_display_string___4;
    Lret_display_string___4: ;
#line 1780
    goto Lret_display_unsigned_worker___1;
    Lret_display_unsigned_worker___1: ;
#line 1782
    goto Lret_display_int___1;
    Lret_display_int___1: 
#line 1784
    x1346141 = 0;
#line 1785
    y1447142 = line35130 + 1;
#line 1786
    display_x = x1346141;
#line 1787
    display_y = y1447142;
#line 1788
    goto Lret_display_goto_xy___7;
    Lret_display_goto_xy___7: 
#line 1790
    display_tick = 0;
#line 1791
    if (! display) {
#line 1792
      goto Lret_nxt_spi_refresh___1;
    }
#line 1794
    dirty = (unsigned char volatile   )1;
#line 1795
    *((AT91_REG *)4294836244U) = 1U << 5;
#line 1796
    goto Lret_nxt_spi_refresh___1;
    Lret_nxt_spi_refresh___1: ;
#line 1798
    goto Lret_nxt_lcd_update___1;
    Lret_nxt_lcd_update___1: ;
#line 1800
    goto Lret_display_update___1;
    Lret_display_update___1: 
#line 1802
    ReleaseResource(lcd);
#line 1803
    goto Lret_show_var___1;
    Lret_show_var___1: 
#line 1805
    port64159 = (U32___4 )1;
#line 1806
    speed65160 = Pg97;
#line 1807
    if (speed65160 > 100.0) {
#line 1808
      speed_percent66161 = 100;
    } else
#line 1810
    if (speed65160 < - 100.0) {
#line 1811
      speed_percent66161 = -100;
    } else {
#line 1813
      speed_percent66161 = (int )speed65160;
    }
#line 1815
    port_id467162 = (U8___3 )port64159;
#line 1816
    speed568163 = (S8___1 )speed_percent66161;
#line 1817
    n669164 = (U32___3 )port_id467162;
#line 1818
    speed_percent770165 = (int )speed568163;
#line 1819
    brake871166 = 1;
#line 1820
    if (n669164 < 3UL) {
#line 1821
      if (speed_percent770165 > 100) {
#line 1822
        speed_percent770165 = 100;
      }
#line 1824
      if (speed_percent770165 < -100) {
#line 1825
        speed_percent770165 = -100;
      }
#line 1827
      motor[n669164].speed_percent = speed_percent770165;
#line 1828
      n972167 = n669164;
#line 1829
      power_percent1073168 = speed_percent770165;
#line 1830
      brake1174169 = brake871166;
#line 1831
      if (n972167 < 3UL) {
#line 1832
        io_to_avr.output_percent[n972167] = (S8___0 )power_percent1073168;
#line 1833
        if (brake1174169) {
#line 1834
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n972167));
        } else {
#line 1836
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n972167));
        }
      }
#line 1839
      goto Lret_nxt_avr_set_motor;
      Lret_nxt_avr_set_motor: ;
    }
#line 1842
    goto Lret_nxt_motor_set_speed;
    Lret_nxt_motor_set_speed: ;
#line 1844
    goto Lret_ecrobot_set_motor_speed;
    Lret_ecrobot_set_motor_speed: ;
#line 1846
    goto Lret_output_motor;
    Lret_output_motor: 
#line 1848
    port75170 = (U32___4 )0;
#line 1849
    speed76171 = Pd98;
#line 1850
    if (speed76171 > 100.0) {
#line 1851
      speed_percent77172 = 100;
    } else
#line 1853
    if (speed76171 < - 100.0) {
#line 1854
      speed_percent77172 = -100;
    } else {
#line 1856
      speed_percent77172 = (int )speed76171;
    }
#line 1858
    port_id478173 = (U8___3 )port75170;
#line 1859
    speed579174 = (S8___1 )speed_percent77172;
#line 1860
    n680175 = (U32___3 )port_id478173;
#line 1861
    speed_percent781176 = (int )speed579174;
#line 1862
    brake882177 = 1;
#line 1863
    if (n680175 < 3UL) {
#line 1864
      if (speed_percent781176 > 100) {
#line 1865
        speed_percent781176 = 100;
      }
#line 1867
      if (speed_percent781176 < -100) {
#line 1868
        speed_percent781176 = -100;
      }
#line 1870
      motor[n680175].speed_percent = speed_percent781176;
#line 1871
      n983178 = n680175;
#line 1872
      power_percent1084179 = speed_percent781176;
#line 1873
      brake1185180 = brake882177;
#line 1874
      if (n983178 < 3UL) {
#line 1875
        io_to_avr.output_percent[n983178] = (S8___0 )power_percent1084179;
#line 1876
        if (brake1185180) {
#line 1877
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode | (1 << n983178));
        } else {
#line 1879
          io_to_avr.output_mode = (U8___1 )((int )io_to_avr.output_mode & ~ (1 << n983178));
        }
      }
#line 1882
      goto Lret_nxt_avr_set_motor___0;
      Lret_nxt_avr_set_motor___0: ;
    }
#line 1885
    goto Lret_nxt_motor_set_speed___0;
    Lret_nxt_motor_set_speed___0: ;
#line 1887
    goto Lret_ecrobot_set_motor_speed___0;
    Lret_ecrobot_set_motor_speed___0: ;
#line 1889
    goto Lret_output_motor___0;
    Lret_output_motor___0: ;
  }
#line 1892
  goto Lret_obst_detector_O_obstacle;
  Lret_obst_detector_O_obstacle: 
#line 1894
  L1766 = ctx_obst._Cg >= (_real___0 )90;
#line 1895
  if (ctx_obst.M7) {
#line 1896
    L1967 = 0;
  } else {
#line 1898
    L1967 = ctx_obst.M20;
  }
#line 1900
  if (L1766) {
#line 1901
    tmp___187 = 1;
  } else
#line 1903
  if (L1967) {
#line 1904
    tmp___187 = 1;
  } else {
#line 1906
    tmp___187 = 0;
  }
#line 1908
  L1668 = tmp___187;
#line 1909
  if (L1668) {
#line 1910
    if (L1164) {
#line 1911
      tmp___288 = 1;
    } else {
#line 1913
      tmp___288 = 0;
    }
  } else {
#line 1916
    tmp___288 = 0;
  }
#line 1918
  L1569 = tmp___288;
#line 1919
  L2470 = ctx_obst._Cg <= (_real___0 )35;
#line 1920
  if (ctx_obst.M7) {
#line 1921
    L2671 = 0;
  } else {
#line 1923
    L2671 = ctx_obst.M27;
  }
#line 1925
  if (L2470) {
#line 1926
    tmp___389 = 1;
  } else
#line 1928
  if (L2671) {
#line 1929
    tmp___389 = 1;
  } else {
#line 1931
    tmp___389 = 0;
  }
#line 1933
  L2372 = tmp___389;
#line 1934
  if (L2372) {
#line 1935
    if (L1164) {
#line 1936
      tmp___490 = 1;
    } else {
#line 1938
      tmp___490 = 0;
    }
  } else {
#line 1941
    tmp___490 = 0;
  }
#line 1943
  L2273 = tmp___490;
#line 1944
  L3074 = ctx_obst._Cg <= (_real___0 )90;
#line 1945
  if (ctx_obst.M7) {
#line 1946
    L3175 = 0;
  } else {
#line 1948
    L3175 = ctx_obst.M32;
  }
#line 1950
  if (L3074) {
#line 1951
    tmp___591 = 1;
  } else
#line 1953
  if (L3175) {
#line 1954
    tmp___591 = 1;
  } else {
#line 1956
    tmp___591 = 0;
  }
#line 1958
  L2976 = tmp___591;
#line 1959
  if (L2976) {
#line 1960
    if (L1164) {
#line 1961
      tmp___692 = 1;
    } else {
#line 1963
      tmp___692 = 0;
    }
  } else {
#line 1966
    tmp___692 = 0;
  }
#line 1968
  L2877 = tmp___692;
#line 1969
  if (L2273) {
#line 1970
    if (L2877) {
#line 1971
      tmp___793 = 1;
    } else {
#line 1973
      tmp___793 = 0;
    }
  } else {
#line 1976
    tmp___793 = 0;
  }
#line 1978
  L2178 = tmp___793;
#line 1979
  if (L1569) {
#line 1980
    if (L2178) {
#line 1981
      tmp___894 = 1;
    } else {
#line 1983
      tmp___894 = 0;
    }
  } else {
#line 1986
    tmp___894 = 0;
  }
#line 1988
  L1479 = tmp___894;
#line 1989
  T1380 = L1479;
#line 1990
  T3281 = L2877;
#line 1991
  T2782 = L2273;
#line 1992
  T2083 = L1569;
#line 1993
  T1084 = L265;
#line 1994
  ctx_obst.M13 = T1380;
#line 1995
  ctx_obst.M13_nil = 0;
#line 1996
  ctx_obst.M32 = T3281;
#line 1997
  ctx_obst.M32_nil = 0;
#line 1998
  ctx_obst.M27 = T2782;
#line 1999
  ctx_obst.M27_nil = 0;
#line 2000
  ctx_obst.M20 = T2083;
#line 2001
  ctx_obst.M20_nil = 0;
#line 2002
  ctx_obst.M10 = T1084;
#line 2003
  ctx_obst.M10_nil = 0;
#line 2004
  if (ctx_obst.M7) {
#line 2005
    tmp___995 = 0;
  } else {
#line 2007
    tmp___995 = 0;
  }
#line 2009
  ctx_obst.M7 = tmp___995;
#line 2010
  goto Lret_obst_detector_step;
  Lret_obst_detector_step: 
#line 2012
  TerminateTask();
#line 2013
  return;
}
}
#line 2019
extern int create_task() ;
#line 2020
extern int create_block() ;
#line 2021 "lego_osek/lego_osek.c"
void main(void) 
{ 


  {
#line 2026
  create_task("TaskMainHighTask", "TaskMainHighTask", 2, 10, 1.611);
#line 2027
  create_task("TaskMainLowTask", "TaskMainLowTask", 1, 30, 0.618);
#line 2028
  create_block(629, "TaskMainHighTask", "lcd", 2, 2, 0.242);
#line 2029
  create_block(781, "TaskMainHighTask", "lcd", 2, 2, 0.242);
#line 2030
  create_block(1308, "TaskMainLowTask", "lcd", 3, 1, 0.242);
#line 2031
  create_block(1504, "TaskMainLowTask", "lcd", 3, 1, 0.242);
#line 2032
  create_block(1656, "TaskMainLowTask", "lcd", 3, 1, 0.242);
#line 2033
  return;
}
}
